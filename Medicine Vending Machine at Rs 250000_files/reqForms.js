function PreAjax(e,t){if(isSet(ReqObj.Form[t].HitArray)){var r=SpliceObject(e,t);if(isSet(r)&&""!==r)return ReqObj.Form[t].HitArray.push(r),r}}function SpliceObject(e,t){if(isSet(ReqObj.Form[t].ServiceSequence)){for(var r="",o=0;o<ReqObj.Form[t].ServiceSequence.length;o++)if(e.toLowerCase()===ConstructorName(ReqObj.Form[t].ServiceSequence[o].fn).toLowerCase()){r=ReqObj.Form[t].ServiceSequence.splice(o,1)[0];break}return r}}function RemoveObjFromHit(e,t){if(isSet(ReqObj.Form[t].HitArray))for(var r=0;r<ReqObj.Form[t].HitArray.length;r++)ConstructorName(e.fn).toLowerCase()===ConstructorName(ReqObj.Form[t].HitArray[r].fn).toLowerCase()&&ReqObj.Form[t].HitArray.splice(r,1)[0]}function Ajaxfailure(e,t){isSet(ReqObj.Form[t].ServiceSequence)&&(RemoveObjFromHit(e,t),ReqObj.Form[t].ServiceSequence.push(e))}function PostAjax(e,t,r){if(isSet(r))for(var o=0;o<r.length;o++)$("#t"+r[o].id).addClass("bedsnone"),$("#t"+r[o].id).children().each(function(){$(this).addClass("bedsnone")});if(isSet(ReqObj.Form[t].HitArray)){for(var i=0;i<ReqObj.Form[t].HitArray.length;i++)ConstructorName(e.fn).toLowerCase()===ConstructorName(ReqObj.Form[t].HitArray[i].fn).toLowerCase()&&(e=ReqObj.Form[t].HitArray.splice(i,1)[0]);SubmitCallback(e.cb,t);for(i=0;i<e.post.length;i++)PrePostService(e.post[i],t)}}function SubmitCallback(e,t){if(isSet(ReqObj.Form[t].ServiceSequence))for(var r=0;r<e.length;r++)ReqObj.Form[t].ServiceSequence.push(e[r]),e[r].fn.onSubmit(t)}function PrePostService(e,t){"09"===t.substring(0,2)&&$("#t"+t+"_submit").removeClass().parent().addClass("bedsnone"),e.call(ReqObj.Form[t].FormSequence,t)}function BlStaticQues(e){this.StaticHtml="",this.uploadfiles=0,this.files="",this.deleteId=0,this.className="BlStaticQues"}function InlineDefault(e){$("#t"+e+"_allBtn").html(""),$("#t"+e+"_thankDiv").html("").addClass("bedsnone"),$("#t"+e+"_mcont").css({display:"table"})}function ContactDetail(e,t,r){this.tempID="",this.setName="",this.setEmail="",this.setCity="",this.imeshCookie="",this.iplocCookie="",this.usercountry="",this.geoip_country_iso="",this.name=e,this.email=t,this.city=r,this.contactdetailhtml="",this.className="ContactDetail"}function convertHtml(e,t){ReqObj.Form[t].questionCount+=1;var r=option_id=[];e.IM_SPEC_OPTIONS_DESC&&(r=e.IM_SPEC_OPTIONS_DESC.split(",")),e.IM_SPEC_OPTIONS_ID&&(option_id=e.IM_SPEC_OPTIONS_ID.split(","));var o=option_id.length>0;""!==e.IM_SPEC_MASTER_FULL_DESC&&e.IM_SPEC_MASTER_FULL_DESC.length>40&&(e.IM_SPEC_MASTER_FULL_DESC=e.IM_SPEC_MASTER_FULL_DESC.substr(0,60)+"...");var i={type:"",questionText:e.IM_SPEC_MASTER_DESC,questionId:isSet(e.IM_SPEC_MASTER_ID)?e.IM_SPEC_MASTER_ID:"",optionSelector:"",others:[]},a=FillIsq(e.IM_SPEC_MASTER_DESC,t);a=null===a?"":a;var s=currentISO();switch(parseInt(e.IM_SPEC_MASTER_TYPE)){case 1:i.type="TEXTBOX";var n="",l={labelId:"t"+t+"ques"+ReqObj.Form[t].questionCount,quesId:e.IM_SPEC_MASTER_ID,optionId:!!o&&option_id,QuestionDesc:e.IM_SPEC_MASTER_DESC,inputId:"t"+t+"txtbx_option"+ReqObj.Form[t].questionCount,inputName:"t"+t+"text_name"+ReqObj.Form[t].questionCount,ans:a};if(i.optionSelector="input[name='"+l.inputName+"']","Quantity"===e.IM_SPEC_MASTER_DESC)l.divClass="bepr isq-st19 bl_qty",l.inputClass="be-slbox beisq-tbx inpt_errorbx",n+=TextBoxHTML(l,q={error_block_class:"beerrp3",id:"t"+t+"isq_qty_error",name:"t"+t+"isq_qty_error",msg:"Please enter Quantity",anchor_class:"bearwL2"})+"</div>";else"Usage/Application"===e.IM_SPEC_MASTER_DESC?(l.divClass="bepr",l.inputClass="be-slbox"):(l.divClass="bepr beclr",l.inputClass="be-input beisq-tbx"),n+=TextBoxHTML(l),""!==e.IM_SPEC_MASTER_FULL_DESC&&(n+=FullDescHtml({div1Class:"int-ct info_icon",div2Class:"blnewform_sprit inft",div3Class:"nwarN bedsnone full_desc Tp8",fullDesc:e.IM_SPEC_MASTER_FULL_DESC})),n+="</div>";return ReqObj.Form[t].Isq.Question.push(i),n;case 2:var c="<div class='beclr'></div><div class='be-dvtxt bewauto bepr'><label id=t"+t+"ques"+ReqObj.Form[t].questionCount+" quesid='"+e.IM_SPEC_MASTER_ID+"'>"+e.IM_SPEC_MASTER_DESC+"</label>";c+="Manufacturer Only"===r?"":" (Select only one)",""!==e.IM_SPEC_MASTER_FULL_DESC&&(c+=FullDescHtml({div1Class:"int-ct1 info_icon",div2Class:"blnewform_sprit inft tn6",div3Class:"nwarN bedsnone full_desc",fullDesc:e.IM_SPEC_MASTER_FULL_DESC})),c+="</div><div class='beclr'></div>",i.type="RADIO",i.optionSelector="input[name='t"+t+"radio_name"+ReqObj.Form[t].questionCount+"']",c+="<div>";for(var m=0;m<r.length;m++){var d=-1;if(a.length>0&&-1!==(d=$.inArray(r[m],a))&&a.splice(d,1),"others"===r[m].trim().toLowerCase()||"other"===r[m].trim().toLowerCase()){var b={divClass:"be-radiobox oth_bx other_radio",optionId:o?option_id[m]:"",inputName:"t"+t+"other_radio_name"+ReqObj.Form[t].questionCount,inputId:"t"+t+"other_radio_name"+ReqObj.Form[t].questionCount+"_option"+(m+1),ans:""};-1===d&&(b.ans=a),c+=OthersBox(b),i.others.push("#t"+t+"other_radio_name"+ReqObj.Form[t].questionCount+"_option"+(m+1))}else{var p={option_id:o?option_id[m]:"",templateId:"t"+t,questionCount:ReqObj.Form[t].questionCount,option_desc:r[m],i:m};-1!==d?(p.divClass1="be-radiobox sl-box chksl",p.divClass2="berdio-sl",p.inputClass="bevT bedblk radioClick waschecked",p.checked="checked",p.spanClass="bevT bedblk beisq3 w-txt"):(p.divClass1="be-radiobox",p.divClass2="berdio-sl bedsnone",p.inputClass="bevT bedblk radioClick",p.checked="",p.spanClass="bevT bedblk beisq3"),"Looking for suppliers"===e.IM_SPEC_MASTER_DESC&&(p.cityFunc="onclick = radCheck(this)"),c+=RadioBox(p)}}return c+="</div>",ReqObj.Form[t].Isq.Question.push(i),c;case 3:var u="";i.type="SELECT";var h={labelId:"t"+t+"ques"+ReqObj.Form[t].questionCount,labelText:e.IM_SPEC_MASTER_DESC,questionId:e.IM_SPEC_MASTER_ID,onchange:!1,optionValue:"Select a value",selectName:"t"+t+"select_name"+ReqObj.Form[t].questionCount,selectId:"t"+t+"select_name"+ReqObj.Form[t].questionCount};i.optionSelector="select[name='"+h.selectName+"']";var q={};"Quantity Unit"===e.IM_SPEC_MASTER_DESC?(h.divClass="bedblk bepr",h.labelText=" Select Unit",h.selectClass="be-slbox beisq-tbx beW14 be-othr betextclr",h.onchange=!0,q={error_block_class:"beerrp2",id:"t"+t+"isq_unit_error",name:"t"+t+"isq_unit_error",msg:"Please enter Quantity Unit",anchor_class:"bearwL1"}):"Currency"===e.IM_SPEC_MASTER_DESC?(h.divClass="bepr becurrbx curr_blck ","IN"===s&&(h.divClass+=" bedsnone"),h.selectClass="be-slbox besl-styl slct_curr betextclr",h.optionValue="Select ",q={error_block_class:"beerrp5",id:"t"+t+"curr_error",name:"t"+t+"curr_error",msg:"Please enter Currency",anchor_class:"bearwL1"}):"Approximate Order Value"===e.IM_SPEC_MASTER_DESC?(h.divClass="bedblk bepr",h.selectClass="be-slbox besl-styl betextclr","IN"===s?(h.labelText+=" (Rs)",h.divClass+=" isq-st301 aov_blck"):(h.divClass+=" isq-st301 aov_blck",h.selectClass+=" brdrd2"),q={error_block_class:"beerrp2",id:"t"+t+"aov_error",name:"t"+t+"aov_error",msg:"Please enter Approximate Order Value",anchor_class:"bearwL1"}):(h.divClass="bedblk bepr beW12",h.selectClass="be-input bewfull slt-styl betextclr"),u+=SelectBox(h,q);for(m=0;m<r.length;m++){var f="",g="",_="";if("Approximate Order Value"===e.IM_SPEC_MASTER_DESC){switch(parseInt(r[m])){case 100:g="Upto 1,000";break;case 200:g="1,000 to 3,000";break;case 300:g="3,000 to 10,000";break;case 400:g="10,000 to 20,000";break;case 500:g="20,000 to 50,000";break;case 600:g="IN"===s?"50,000 to 1 Lakh":"50,000 to 0.1 Million";break;case 700:g="IN"===s?"1 to 2 Lakh":"0.1 to 0.2 Million";break;case 800:g="IN"===s?"2 to 5 Lakh":"0.2 to 0.5 Million";break;case 900:g="IN"===s?"5 to 10 Lakh":"0.5 to 1 Million";break;case 1e3:g="IN"===s?"10 to 20 Lakh":"1 to 2 Million";break;case 1100:g="IN"===s?"20 to 50 Lakh":"2 to 5 Million";break;case 1200:g="IN"===s?"50 Lakh to 1 Crore":"5 to 10 Million";break;case 1300:g="IN"===s?"More than 1 Crore":"More than 10 Million"}-1!==(d=$.inArray(g,a))&&(f=" selected"),u+="<option value='"+g+"' optionid="+option_id[m]+f+" >"+g+"</option>"}else if("Currency"===e.IM_SPEC_MASTER_DESC){switch(parseInt(r[m])){case 1:"IN"===s&&(_="INR",f=" selected");break;case 2:_="USD";break;case 3:_="GBP";break;case 4:_="EUR"}-1!==(d=$.inArray(_,a))&&(f=" selected"),isSet(_)&&""!==_&&(u+="<option value='"+_+"' optionid='"+option_id[m]+"'"+f+">"+_+"</option>")}else{-1!==(d=$.inArray(r[m],a))&&(f=" selected"),u+="<option value='"+r[m]+"' optionid='"+option_id[m]+"'"+f+" > "+r[m]+"</option > "}}var v={div1Class:"int-ct info_icon",div2Class:"blnewform_sprit inft",div3Class:"nwarN bedsnone full_desc Tp8",fullDesc:e.IM_SPEC_MASTER_FULL_DESC};return"Quantity Unit"===e.IM_SPEC_MASTER_DESC&&""!==ReqObj.Form[t].previousFullDesc?(v.fullDesc=ReqObj.Form[t].previousFullDesc,u+="</select><input type = 'text' id = 'other_t"+t+"select_name"+ReqObj.Form[t].questionCount+"_1' class='be-slbox beisq-tbx bedsnone be-othr othrwd' /></select > "+FullDescHtml(v)+"</div><div class='beclr'></div>",i.others.push("#other_t"+t+"select_name"+ReqObj.Form[t].questionCount+"_1")):"Currency"===e.IM_SPEC_MASTER_DESC&&""!==ReqObj.Form[t].previousFullDesc?(v.div1Class+=" curr_icon",v.fullDesc=ReqObj.Form[t].previousFullDesc,u+="</select>"+FullDescHtml(v)+"</div><div class='beclr'></div>"):"Approximate Order Value"===e.IM_SPEC_MASTER_DESC&&""!==e.IM_SPEC_MASTER_FULL_DESC?(v.div1Class+=" aov_icon",u+="</select>"+FullDescHtml(v)+"</div><div class='beclr'></div>"):(u+="</select><input type = 'text' id = 'other_t"+t+"select_name"+ReqObj.Form[t].questionCount+"_1' class='be-slbox beisq-tbx bedsnone be-othr othrwd' /> ","Approximate Order Value"!==e.IM_SPEC_MASTER_DESC&&"Currency"!==e.IM_SPEC_MASTER_DESC&&""!==e.IM_SPEC_MASTER_FULL_DESC&&(u+=FullDescHtml(v)),u+="</div>",i.others.push("#other_t"+t+"select_name"+ReqObj.Form[t].questionCount+"_1")),"Currency"===e.IM_SPEC_MASTER_DESC&&(u+="<div class='beclr'></div>"),ReqObj.Form[t].Isq.Question.push(i),u;case 4:var O="<div class='beclr'></div><div class='be-dvtxt bewauto bepr'><label id=t"+t+"ques"+ReqObj.Form[t].questionCount+" quesid='"+e.IM_SPEC_MASTER_ID+"'>"+e.IM_SPEC_MASTER_DESC+"</label>";O+=" (Select all that apply)",""!==e.IM_SPEC_MASTER_FULL_DESC&&(O+=FullDescHtml({div1Class:"int-ct1 info_icon",div2Class:"blnewform_sprit inft tn6",div3Class:"nwarN bedsnone full_desc",fullDesc:e.IM_SPEC_MASTER_FULL_DESC})),O+="</div><div class='beclr'></div>",O+="<div class='bemgb15 nwDt'>",i.type="CHECKBOX",i.optionSelector="input[name='t"+t+"checkbox_name"+ReqObj.Form[t].questionCount+"']";for(m=0;m<r.length;m++){d=-1;if(a.length>0&&-1!==(d=$.inArray(r[m],a))&&a.splice(d,1),"others"===r[m].trim().toLowerCase()||"other"===r[m].trim().toLowerCase())i.others.push("#t"+t+"other_checkbox_name"+ReqObj.Form[t].questionCount+"_option"+(m+1)),OthersBoxObject={divClass:"be-chckbox oth_bx other_check",optionId:o?option_id[m]:"",inputName:"t"+t+"other_checkbox_name"+ReqObj.Form[t].questionCount,inputId:"t"+t+"other_checkbox_name"+ReqObj.Form[t].questionCount+"_option"+(m+1),ans:""},-1===d&&(OthersBoxObject.ans=a),O+=OthersBox(OthersBoxObject);else{var S={option_id:o?option_id[m]:"",templateId:"t"+t,questionCount:ReqObj.Form[t].questionCount,option_desc:r[m],i:m};-1!==d?(S.divClass1="be-chckbox sl-box chksl",S.divClass2="betick-sl",S.checked="checked",S.spanClass="bevT bedblk beisq3 w-txt"):(S.divClass1="be-chckbox",S.divClass2="betick-sl bedsnone",S.checked="",S.spanClass="bevT bedblk beisq3"),O+=CheckBox(S)}}return O+="</div>",ReqObj.Form[t].Isq.Question.push(i),O}}function Generation(e){this.v4iilexCookie="",this.imeshCookie="",this.iplocCookie="",this.imEqGlCookie="",this.siteEntryPage="",this.adcampCookie="",this.emktgCookie="",this.geoLocCookie="",this.iso="",this.arg=e,this.className="Generation"}BlStaticQues.prototype.hasHtml=function(e){if(ReqObj.Form[e.tmpId].Isq.CurrentPageQuestions=[],this.StaticHtml+=this.attachFiles(e.tmpId),"IN"===currentISO())for(var t=0;t<dataWr.DATA.length;t++)ReqObj.Form[e.tmpId].Isq.Question=[],this.StaticHtml+=convertHtml(dataWr.DATA[t],e.tmpId),ReqObj.Form[e.tmpId].Isq.CurrentPageQuestions.push(ReqObj.Form[e.tmpId].Isq.Question);if(""!==this.StaticHtml){ReqObj.Form[e.tmpId].flags.isEnrichShown=!0,e.that.NumberofClassCalled-=1,AttachObject(e.object,e.tmpId);for(t=0;t<e.AfterService.length;t++)e.that.MakeSeq(e.AfterService[t],e.tmpId);0===e.that.NumberofClassCalled&&makeFinalSeq(e,e.tmpId)}else e.hasFallback&&CreateSeq(e.FallbackObj)},BlStaticQues.prototype.displayHtml=function(e){return this.StaticHtml},BlStaticQues.prototype.attachFiles=function(e){for(var t='<div><ul class="be-att">',r="",o="",i="",a=1;a<5;a++)!0===ReqObj.Form[e].flags.isDescDivShown?(i=1===a?'<li class="attch_add"':'<li class="attch_add bedsnone"',r=1===a?'style="clear:both;border-top:1px solid #dfd8d8"':'style="border-left:0px;border-top:1px solid #dfd8d8"'):(i=1===a?'<li class="attch_add"':'<li class="attch_add bedsnone"',r=1===a?'style="clear:both;"':'style="border-left:0px"'),a<4&&(o='<div id="t'+e+"attachaddmore"+a+'" class="add_More bedsnone">+</div>'),t+=i+'id="t'+e+"attachment_div_"+a+'"'+r+">"+o+'<a href="#" id="t'+e+"add_attachment_"+a+'" class="att Be9"><div class="Be10">Attach Files</div></a><div class="posi flt-rgt pdz bedsnone" id="t'+e+"upload_indicator_"+a+'"><img src=""></div><a href="#" id="t'+e+"file_attached_"+a+'" class="att2 Be11 bedsnone" target="_blank"></a><div id="t'+e+"remove_attachment_"+a+'" class="blnewform_sprit Be12 bedsnone"></div><div class="attch_add bedsnone" style="height:150px;"><iframe id="t'+e+"add_attach_iframe_"+a+'" name="t'+e+"add_attach_iframe_"+a+'" style="width:100%;height:80px;" border="0" framespacing="0" allowtransparency="true"></iframe><input type="file" id="t'+e+"input_attach_"+a+'" style="height: 0px; width: 0px;visibility: hidden;" name="image"><input type="hidden" id="t'+e+"attachment_file_name_"+a+'"><input type="hidden" id="t'+e+"type_"+a+'"><input type="hidden" name="t'+e+"attachment_path_"+a+'" value="" id="t'+e+"attachment_path_"+a+'"><input type="hidden" name="t'+e+"attachment_file_name_"+a+'" value="" id="t'+e+"attachment_file_name_"+a+'"><input type="hidden" name="success-url" value= "$server_name/eto-upload-attachment.mp" id="t'+e+"success_url_"+a+'"><input type="hidden" name="failure-url" value="$server_name/eto-upload-attachment.mp" id="t'+e+"failure_url_"+a+'"><input type="hidden" name="t'+e+"img_small_ori_"+a+'" value="" id="t'+e+"img_small_ori_"+a+'"><input type="hidden" name="t'+e+"myfile_doc_"+a+'" value="" id="t'+e+"myfile_doc_"+a+'"></li>';return t+="</ul></div>"},BlStaticQues.prototype.SaveDetails=function(e){SaveIsq(e,"static")},BlStaticQues.prototype.onSubmit=function(e){var t="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads",r=PreAjax("BlStaticQues",e),o={modid:ReqObj.Form[e].modId,offer_id:ReqObj.Form[e].generationId,s_glusrid:usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"glid"),blEnqFlag:ReqObj.Form[e].formType,updatevalue:"updatevalue"};if(ReqObj.Form[e].Static.optionsValue.length>0)for(var i=0;i<ReqObj.Form[e].Static.questionsDesc.length;i++)"Looking for suppliers"===ReqObj.Form[e].Static.questionsDesc[i]&&(o.prefered_suppliers_location=ReqObj.Form[e].Static.optionsValue[i],$("#spcity").length>0&&(o.enrichCity1=$("#t"+e+"_enrich_city1specificcity_hidden").val(),o.enrichCity2=$("#t"+e+"_enrich_city2specificcity_hidden").val(),o.enrichCity3=$("#t"+e+"_enrich_city3specificcity_hidden").val()));for(i=1;i<5;i++)$("#t"+e+"file_attached_"+i).length>0?(o["img_small_ori_"+i]=$("#t"+e+"img_small_ori_"+i).val(),o["myfile_doc_"+i]=$("#t"+e+"myfile_doc_"+i).val()):(o["img_small_ori_"+i]="",o["myfile_doc_"+i]="");ReqObj.Form[e].ReqDtlBox&&(o.enrichDesc=ReqObj.Form[e].ReqDtlBox,"enq"===ReqObj.Form[e].formType.toLowerCase()&&(o.r_glusrid=ReqObj.Form[e].rcvGlid,o.q_dest=ReqObj.Form[e].query_destination)),isObjectEmpty(o)?$.ajax({cache:!1,url:appsServerName+"index.php?r=Newreqform/saveEnrichment",type:"GET",timeout:3e3,dataType:"json",crossOrigin:!0,crossDomain:!0,data:o,success:function(o){isSet(o)?200===parseInt(o.CODE)?(blenqGATracking(t,"service:saveEnrichment:success",getEventLabel(),1,e),PostAjax(r,e,[])):(blenqGATracking(t,"service:saveEnrichment:failure",o,1,e),Ajaxfailure(r,e)):(blenqGATracking(t,"service:saveEnrichment:failure","response undefined",1,e),Ajaxfailure(r,e))},error:function(o){o=isSet(o)?JSON.stringify(o):"response undefined",blenqGATracking(t,"service:saveEnrichment:failure",o,1,e),Ajaxfailure(r,e)}}):PostAjax(r,e,[])},BlStaticQues.prototype.GetDetail=function(e){},BlStaticQues.prototype.defaultEvents=function(e){var t=this;RadioClick();for(var r=1;r<5;r++)$("#t"+e+"add_attachment_"+r).on("click",{tmpId:e,loop:r},t.openWin),$("#t"+e+"input_attach_"+r).on("change",{tmpId:e,loop:r,modId:ReqObj.Form[e].modId,that:t},t.uploadFile),$("#t"+e+"attachaddmore"+r).on("click",{tmpId:e,todo:"addMoreAttachments",loop:r},t.handleUI),$("#t"+e+"remove_attachment_"+r).on("click",{tmpId:e,loop:r,that:t},t.deleteFile)},BlStaticQues.prototype.validate=function(e){return!0},BlStaticQues.prototype.openWin=function(e){var t=e.data.tmpId,r=e.data.loop;$("#t"+t+"input_attach_"+r).val(null),$("#t"+t+"input_attach_"+r).click()},BlStaticQues.prototype.getData=function(e,t,r,o){if(null===$("#t"+e+"input_attach_"+t).val())return"";var i=0,a=$("#t"+e+"input_attach_"+t)[0];o.file=a.files[0];var s=new FormData;s.append("IMAGE",o.file);var n=o.file.name;n=n.replace(/\'+/g,"_");var l,c="";(c=(c=(/\//.test(n)?(l=n.split("/"))[l.length-1]:(l=n.split("\\"))[l.length-1]).replace(/\\s+/g,"-")).toLowerCase()).indexOf("\\")>-1&&(c=c.replace(/\\/g,"/")),c.indexOf(" ")>-1&&(c=c.replace(/ /g,"-"));var m=c.substr(c.lastIndexOf("/")+1);$("#t"+e+"attachment_file_name_"+t).value=m,m.length>65&&(i=1,alert("Filename cannot have more than 65 characters")),m.split(".").length>2&&(i=1,alert("Filename cannot contain dot(.)")),m.lastIndexOf(" ")>-1&&(i=1,alert("Filename can contain only alphabets (a-z A-Z) , numbers (0-9) , underscore (_) or hiphen (-)"));var d=c.substr(c.indexOf("."),c.length);return".jpg"==(d=d.toLowerCase())||".gif"==d||".png"==d||".jpeg"==d?$("#t"+e+"type_"+t).val("default"):".pdf"==d||".doc"==d||".docx"==d||".xls"==d||".xlsx"==d||".txt"==d||".rtf"==d||".ppt"==d||".pptx"==d?$("#t"+e+"type_"+t).val("doc"):(i=1,alert("Attachment can be either of jpg / gif / png / pdf / doc / docx / xls / xlsx / txt / rtf / ppt / pptx file extensions only")),$("#t"+e+"upload_indicator_"+t).removeClass("bedsnone"),s.append("MODID",r),s.append("USR_ID",usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"glid")),s.append("IMAGE_TYPE","Rfq"),s.append("UPLOADED_BY","User"),1!=i&&s},BlStaticQues.prototype.uploadFile=function(e){var t=e.data.tmpId,r=e.data.loop,o=e.data.modId,i=e.data.that,a=i.getData(t,r,o,i);if(""!==a&&!1!==a){var s="";s="https://uploading.imimg.com/uploadimage",isObjectEmpty(a)&&$.ajax({url:s,type:"POST",data:a,processData:!1,contentType:!1,success:function(e){if(isSet(e)){if(200!==parseInt(e.Code))return alert(e.Reason),i.handleUI({data:{todo:"uploadFailure",tmpId:t,loop:r}}),!1;i.uploadfiles++;var o=e.Data.AwsPath.Image_Original_Path,a=i.file.name,s=o.substring(o.lastIndexOf("/")+1);if("Success"!==e.Status)return alert(e.Reason),i.handleUI({data:{todo:"uploadFailure",tmpId:t,loop:r}}),!1;$("#t"+t+"file_attached_"+r).attr("href",o),$("#t"+t+"file_attached_"+r).html(a),$("#t"+t+"attachment_path_"+r).val(o),$("#t"+t+"attachment_file_name_"+r).val(s),"default"===$("#t"+t+"type_"+r).val()?$("#t"+t+"img_small_ori_"+r).val(o):$("#t"+t+"myfile_doc_"+r).val(o),i.handleUI({data:{todo:"uploadSuccess",tmpId:t,loop:r}})}},error:function(){return alert("File is not uploaded.Please try again..."),i.handleUI("uploadFailure",t,r),!1}})}},BlStaticQues.prototype.handleUI=function(e){var t=e.data.todo,r=e.data.tmpId,o=e.data.loop;("uploadSuccess"===t&&($("#t"+r+"remove_attachment_"+o).removeClass("bedsnone"),$("#t"+r+"add_attachment_"+o).addClass("bedsnone"),$("#t"+r+"upload_indicator_"+o).addClass("bedsnone"),$("#t"+r+"file_attached_"+o).removeClass("bedsnone"),$("#t"+r+"attachaddmore"+o).removeClass("bedsnone")),"uploadFailure"===t&&$("#t"+r+"upload_indicator_"+o).addClass("bedsnone"),"addMoreAttachments"===t)&&($("#t"+r+"attachment_div_"+(o+1)).removeClass("bedsnone"),$("#t"+r+"attachaddmore"+o).addClass("bedsnone"));"deleteFile"===t&&($("#t"+r+"addmore_attachment"+o).addClass("bedsnone"),$("#t"+r+"file_attached_"+o).attr("href",""),$("#t"+r+"file_attached_"+o).html(""),$("#t"+r+"file_attached_"+o).addClass("bedsnone"),$("#t"+r+"attachment_path_"+o).val(""),$("#t"+r+"attachment_file_name_"+o).val(""),$("#t"+r+"remove_attachment_"+o).addClass("bedsnone"),$("#t"+r+"add_attachment_"+o).removeClass("bedsnone"),$("#t"+r+"upload_indicator_"+o).removeClass("bedsnone"),$("#t"+r+"attachaddmore"+o).addClass("bedsnone"),$("#t"+r+"img_small_ori_"+o).val(""),$("#t"+r+"myfile_doc_"+o).val(""))},BlStaticQues.prototype.deleteFile=function(e){var t=e.data.tmpId,r=e.data.loop,o=e.data.that;$.ajax({url:appsServerName+"index.php?r=enrichform/DeleteAttachment",data:{file:$("#t"+t+"attachment_file_name_"+r).val()},dataType:"json",type:"GET",success:function(e){isSet(e)&&o.handleUI({data:{tmpId:t,loop:r,todo:"deleteFile"}})},error:function(e){}})},FormSeq.prototype.BLinline=function(e){var t=this;this.NumberofClassCalled=3,ReqObj.Form[e].IsqStep1=ReturnCorrectVal(ReqObj.Form[e].IsqStep1,3),ReqObj.Form[e].IsqStepN=ReturnCorrectVal(ReqObj.Form[e].IsqStepN,2),ReqObj.Form[e].flags.isEnrichShown=!1;var r={pre:[],post:[]},o={UiArray:this.arraySeq,ServiceArray:this.ServiceSequence};if(r={pre:[this.InlineOpenForm,this.SubsequentStep],post:[]},usercookie.getCookie("ImeshVisitor"))this.NumberofClassCalled-=1,$("#t"+e+"_byrinfoIn").html(get_buyer_info(e)).removeClass("bedsnone");else{r.pre=[],r.post=[this.InlineOpenForm,this.SubsequentStep];var i={object:{obj:new UserLogin(e),toReplace:!0,objHtmlId:e+"_loginIn",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(i),r={pre:[],post:[]}}if(ShowProdName(e)){this.NumberofClassCalled+=1;var a={object:{obj:new ProductName(e),toReplace:!0,objHtmlId:e+"_prodtitleIn",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(a)}var s={object:{obj:new Generation(0),toReplace:!0,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};if(this.MakeSeq(s),usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"fn"))this.NumberofClassCalled-=1;else{r={pre:[],post:[]};var n={object:{obj:new PostBlEnqUpdate(e),toReplace:!1,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null,nextStep:ReqObj.Form[e].SubsequentStep},l={object:{obj:new ContactDetail(1,0,0),toReplace:!1,objHtmlId:e+"_contactinfoIn",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[n],hasFallback:!1,FallbackObj:null};this.MakeSeq(l)}if("04"!==e.substring(0,2)||1!==parseInt(ReqObj.Form[e].disableRd)){r={pre:[],post:[]};var c={object:{obj:new RequirementDtl(e),toReplace:!0,objHtmlId:e+"_reqboxIn",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};CreateSeq({object:{obj:ReqObj.Form[e].GlobalIsqObject,objHtmlId:e+"_isqboxIn",array:o,hooks:r,isService:!1},tmpId:e,that:t,AfterService:[],hasFallback:!0,FallbackObj:c})}else this.NumberofClassCalled-=1,this.FullServiceArray.push(o.ServiceArray),ReqObj.Form[e].UiArray.push(o.UiArray),this.getStep(e)},FormSeq.prototype.BLpopup=function(e){var t=this;ReqObj.Form[e].flags.isEnrichShown=!1,ReqObj.Form[e].IsqStep1=ReturnCorrectVal(ReqObj.Form[e].IsqStep1,3),ReqObj.Form[e].IsqStepN=ReturnCorrectVal(ReqObj.Form[e].IsqStepN,2);var r={pre:[],post:[]},o={UiArray:this.arraySeq,ServiceArray:this.ServiceSequence};if(usercookie.getCookie("ImeshVisitor")){if($("#t"+e+"_byrinfo").html(get_buyer_info(e)).removeClass("bedsnone"),this.NumberofClassCalled=3,ShowProdName(e)){r={pre:[this.SubsequentStep],post:[]};s={object:{obj:new ProductName(e),toReplace:!0,objHtmlId:e+"_prodtitle",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(s),r={pre:[],post:[]};n={object:{obj:new Generation(0),toReplace:!0,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(n);l=currentISO();if(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"fn")||"IN"===l)this.NumberofClassCalled-=1;else{r={pre:[],post:[]};c={object:{obj:new PostBlEnqUpdate(e),toReplace:!1,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null},m={object:{obj:new ContactDetail(1,0,0),toReplace:!1,objHtmlId:e+"_contactinfo",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[c],hasFallback:!1,FallbackObj:null};this.MakeSeq(m)}r.pre=[],r.post=[];var i={object:{obj:new RequirementDtl(e),toReplace:!0,objHtmlId:e+"_reqbox",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};CreateSeq({object:{obj:ReqObj.Form[e].GlobalIsqObject,objHtmlId:e+"_isqbox",array:o,hooks:r,isService:!1},tmpId:e,that:t,AfterService:[],hasFallback:!0,FallbackObj:i})}}else{this.NumberofClassCalled=3,r={pre:[],post:[this.SubsequentStep]};var a={object:{obj:new UserLogin(e),toReplace:!0,objHtmlId:e+"_loginfld",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};if(this.MakeSeq(a),ShowProdName(e)){r={pre:[],post:[]};var s={object:{obj:new ProductName(e),toReplace:!0,objHtmlId:e+"_prodtitle",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(s)}r={pre:[],post:[]};var n={object:{obj:new Generation(0),toReplace:!0,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(n);var l=currentISO();if(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"fn")||"IN"===l)this.NumberofClassCalled-=1,this.FullServiceArray.push(o.ServiceArray),ReqObj.Form[e].UiArray.push(o.UiArray),this.getStep(e);else{r={pre:[],post:[]};var c={object:{obj:new PostBlEnqUpdate(e),toReplace:!1,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null},m={object:{obj:new ContactDetail(1,0,0),toReplace:!1,objHtmlId:e+"_contactinfo",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[c],hasFallback:!1,FallbackObj:null};this.MakeSeq(m)}}},ContactDetail.prototype.SaveDetails=function(e){ReqObj.UserDetail={fn:ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"fn"),$("#t"+e+"_q_first_nm").val()),em:ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"em"),$("#t"+e+"_q_email_in").val()),ctid:ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"ctid"),$("#t"+e+"_q_city_oth").val()),mb1:ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"mb1"),$("#t"+e+"_q_mobile_f").val())}},ContactDetail.prototype.displayHtml=function(e){return"09"===e.substring(0,2)?1===this.name&&1===this.email&&1===this.city&&(ReqObj.Form[e].flags.isNECShown=!0):ReqObj.Form[e].flags.isNECShown=!0,this.contactdetailhtml},ContactDetail.prototype.hasHtml=function(e){this.tempID="t"+e.tmpId,this.checkIfCookieSet(e.tmpId);var t="",r=currentISO();if(this.imeshCookie&&1===this.name&&1===this.email&&1===this.city&&(this.contactdetailhtml='<div id="t'+e.tmpId+'"_IdContactScreen" class="beW5">',t+=""===this.setName?this.showName("",e.tmpId):"",t+=""===this.setEmail&&"IN"===r||""===this.setMobile&&"IN"!==r&&!0===ReqObj.Form[e.tmpId].OnCloseStep?this.showEmailOrMobile(e.tmpId):"",t+=(isSet(r)&&"IN"===r||"IN"===this.usercountry)&&""===this.setCity?this.showCity(e.tmpId):"",this.contactdetailhtml+=t,this.contactdetailhtml+="</div>",""===t&&(this.contactdetailhtml="")),1===this.name&&0===this.email&&0===this.city&&(this.contactdetailhtml="<div id='t"+e.tmpId+"'_IdContactScreen'>",t=""===this.setName?this.showName("",e.tmpId):"",this.contactdetailhtml+=t,this.contactdetailhtml+="</div>",""===t&&(this.contactdetailhtml="")),1===this.email&&0===this.name&&0===this.city&&(this.contactdetailhtml='<div id="t'+e.tmpId+'"_IdContactScreen">',t=this.showEmailOrMobile(e.tmpId),this.contactdetailhtml+=t,this.contactdetailhtml+="</div>",""===t&&(this.contactdetailhtml="")),0===this.email&&0===this.name&&1===this.city&&(this.contactdetailhtml='<div id="t'+e.tmpId+'"_IdContactScreen">',t="IN"===r?this.showCity(e.tmpId):"",this.contactdetailhtml+=t,this.contactdetailhtml+="</div>",""===t&&(this.contactdetailhtml="")),e.that.NumberofClassCalled-=1,""!==this.contactdetailhtml){AttachObject(e.object,e.tmpId);for(var o=0;o<e.AfterService.length;o++)e.that.MakeSeq(e.AfterService[o],e.tmpId);0===e.that.NumberofClassCalled&&makeFinalSeq(e,e.tmpId)}else e.hasFallback&&CreateSeq(e.FallbackObj)},ContactDetail.prototype.termsAndConditions=function(e){var t=currentISO();"IN"!==t&&isEuroCountry(t)&&!1===ReqObj.Form[e].isTNCShownOnFirstStep&&($("#t"+e+"_tCondCheckBox").prop("checked",!1),$("#t"+e+"_tCond").removeClass("bedsnone"))},ContactDetail.prototype.defaultEvents=function(e){var t=this;"-126"===ReqObj.Form[e].afflId&&$("#t"+e+"_q_first_nm").attr("placeholder","Enter your name"),t.handleUI({data:{obj:t,todo:"nameUI",tmpId:e}}),!0===ReqObj.Form[e].OnCloseStep&&t.handleUI({data:{obj:t,todo:"cityOthers",tmpId:e}}),t.handleEvents(this,e)},ContactDetail.prototype.validate=function(e){return this.validateUserDetails(e)},ContactDetail.prototype.onSubmit=function(e){ReqObj.UserDetail={fn:ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"fn"),$("#t"+e+"_q_first_nm").val()),em:ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"em"),$("#t"+e+"_q_email_in").val()),ctid:ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"ctid"),$("#t"+e+"_q_city_oth").val()),mb1:ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"mb1"),$("#t"+e+"_q_mobile_f").val())};var t=PreAjax("ContactDetail",e);this.sendRequest(t,e)},ContactDetail.prototype.checkIfCookieSet=function(e){this.imeshCookie=usercookie.getCookie("ImeshVisitor"),this.iplocCookie=usercookie.getCookie("iploc"),this.geoip_country_iso=usercookie.getParameterValue(this.iplocCookie,"gcniso"),""!==this.imeshCookie&&(this.usercountry=usercookie.getParameterValue(this.imeshCookie,"iso"),this.setName=ReqObj.UserDetail.fn,this.setEmail=ReqObj.UserDetail.em,this.setCity=ReqObj.UserDetail.ctid,this.setMobile=ReqObj.UserDetail.mb1)},ContactDetail.prototype.showName=function(e,t){return'<div class="be-row"><label id="t'+t+'_name-lb" class="be-lbl">Name</label><input type="hidden" id="t'+t+'_q_first_nm_hidden"><input type="text" name="q_first_nm" id="t'+t+'_q_first_nm" value="" class="be-slbox inpt_errorbx" placeholder="Enter your name"><div class="beerrp1 be-erbx bedsnone" id="t'+t+'_error_first_name" ><div id="t'+t+'_fname_errmsg" data-role="content">Please enter Full Name</div><a class="be-erarw" data-role="arrow"></a></div></div>'},ContactDetail.prototype.showEmailOrMobile=function(e){if("IN"===currentISO())return""===this.setEmail?'<div class="be-row"><label id="t'+e+'_email-lb" class="be-lbl">Email</label><input type="text" name="q_email_in" id="t'+e+'_q_email_in" value="" class="be-slbox inpt_errorbx" placeholder="Enter your email"><div class="beerrp1 be-erbx bedsnone error_blck" id="t'+e+'_err_email"><div id="t'+e+'_email_errmsg" data-role="content"></div><a class="be-erarw" data-role="arrow"></a></div></div>':"";var t=isSet(ReqObj.isoFlag)&&""!==ReqObj.isoFlag?ReqObj.isoFlag:usercookie.getParameterValue(this.imeshCookie,"phcc");return'<div class="be-row"><label id="t'+e+'_mobile-lb" class="be-lbl">Mobile</label><input type="text" value="'+(t="+"===t.substring(0,1)?t:"+"+t)+'" name="iso" id="t'+e+'_isof" class="be-flisq iso" tabindex="-1" disabled="disabled"><input type="text" name="q_mobile_f" id="t'+e+'_q_mobile_f" value="" placeholder="Enter your mobile" class="be-input benords beW3 beh32"><div class="beerrp1 be-erbx bedsnone error_blck" id="t'+e+'_error_mobile"><div id="t'+e+'_mobile_errmsg" data-role="content"></div><a class="be-erarw" data-role="arrow"></a></div></div>'},ContactDetail.prototype.showCity=function(e){var t="";return usercookie.getParameterValue(this.imeshCookie,"ctid")?"":(!0===ReqObj.Form[e].OnCloseStep?""!==ReqObj.Form[e].cityOth&&(t=ReqObj.Form[e].cityOth):t=""!==this.iplocCookie?usercookie.getParameterValue(this.iplocCookie,"gctnm"):"",'<div class="be-row"><label id="t'+e+'_for-city-lb" class="be-lbl">City</label><input type="text" templateId="'+e+'" name="q_city_oth" id="t'+e+'_q_city_oth" placeholder="Enter your city" value="'+t+'" class="be-slbox inpt_errorbx ui-autocomplete-input" maxlength="100" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true" readonly="" disabled="disabled"><input type="hidden" id="city_id_sugg"><span class="beChtxt" id="t'+e+'_change_city">Change your city</span><div class="beerrp1 be-erbx bedsnone error_blck" id="t'+e+'_error_city"><div id="t'+e+'_city_errmsg" data-role="content"></div><a class="be-erarw bearwL" data-role="arrow"></a></div></div>')},ContactDetail.prototype.validateUserDetails=function(e){var t="",r="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads";if(ReqObj.Form[e].OnCloseStep&&isSet(ReqObj.Form[e].FormSequence))var o=ReqObj.Form[e].FormSequence.StepCounter+1+ReqObj.Form[e].FormSequence.OnCloseCounter+1;else o=ReqObj.Form[e].FormSequence.StepCounter+1;if($("#t"+e+"_q_first_nm").length>0&&!(t=validation.isNameValid($("#t"+e+"_q_first_nm").val())).type)return blenqGATracking(r,"Validation_Error_Name|"+o+"|ContactDetail",getEventLabel(),0,e),$("#t"+e+"_fname_errmsg").html(t.error),$("#t"+e+"_error_first_name").removeClass("bedsnone"),$("#t"+e+"_q_first_nm").addClass("highlight-err"),$("#t"+e+"_name-lb").addClass("redc"),!1;if("IN"===this.usercountry){if($("#t"+e+"_q_email_in").length>0){var i=$("#t"+e+"_q_email_in").val();if(!(t=validation.isEmailValid(i)).type)return blenqGATracking(r,"Validation_Error_Email|"+o+"|ContactDetail",getEventLabel(),0,e),$("#t"+e+"_email_errmsg").html(t.error),$("#t"+e+"_err_email").removeClass("bedsnone"),$("#t"+e+"_q_email_in").addClass("highlight-err"),$("#t"+e+"_email-lb").addClass("redc"),!1}if($("#t"+e+"_q_city_oth").length>0&&!(t=validation.isCityValid($("#t"+e+"_q_city_oth").val())).type)return blenqGATracking(r,"Validation_Error_City |"+o+"|ContactDetail",getEventLabel(),0,e),$("#t"+e+"_city_errmsg").html(t.error),$("#t"+e+"_error_city").removeClass("bedsnone"),$("#t"+e+"_q_city_oth").addClass("highlight-err"),$("#t"+e+"_for-city-lb").addClass("redc"),!1}return!0},ContactDetail.prototype.getData=function(e){this.checkIfCookieSet(e);var t={},r=usercookie.getParameterValue(this.imeshCookie,"glid"),o=currentISO(),i=usercookie.getParameterValue(this.imeshCookie,"ctid"),a=$("#city_id_sugg").val();if(t.s_city_id=isSet(a)&&""!==a?a:i,isSet(t.s_city_id)&&""!==t.s_city_id||(ReqObj.Form[e].cityOth=$("#t"+e+"_q_city_oth").val()),""===this.setName){if(n=isSet(n=$("#t"+e+"_q_first_nm").val())?n.trim():"")if(-1!==n.indexOf(" ")){(l=n.substr(0,n.indexOf(" "))).trim(),$("#t"+e+"_q_first_nm_hidden").val(l);var s=n.substr(n.indexOf(" ")+1)}else $("#t"+e+"_q_first_nm_hidden").val(n);t.s_first_name=isSet(l)&&""!==l?l:n,t.s_last_name=isSet(s)&&""!==s?s:""}else{var n;if(n=isSet(n=$("#t"+e+"_q_first_nm").val())?n.trim():"")if(-1!==n.indexOf(" ")){var l;(l=n.substr(0,n.indexOf(" "))).trim(),$("#t"+e+"_q_first_nm_hidden").val(l);s=n.substr(n.indexOf(" ")+1)}else $("#t"+e+"_q_first_nm_hidden").val(n);t.s_first_name=isSet(l)&&""!==l?l:n,t.s_last_name=isSet(s)&&""!==s?s:""}if("IN"===o){this.setEmail,t.s_email=$("#t"+e+"_q_email_in").val(),this.setCity,t.s_city_name=$("#t"+e+"_q_city_oth").val();var c=usercookie.getParameterValue(this.imeshCookie,"mb1");t.s_mobile=""!==c?c:$("#t"+e+"_login_field").val()}else{t.s_mobile=$("#t"+e+"_q_mobile_f").val();c=usercookie.getParameterValue(this.imeshCookie,"em");t.s_email=""!==c?c:$("#t"+e+"_login_field").val()}return t.s_glusrid=r,t.curr_page_url=window.location.href,t.s_ip=usercookie.getParameterValue(this.iplocCookie,"gip"),t.s_ip_country=usercookie.getParameterValue(this.iplocCookie,"gcnnm"),t.s_ip_country_iso=this.geoip_country_iso,t.flag=ReqObj.Form[e].formType,t.modid=ReqObj.Form[e].modId,t.s_country_iso=""!==o?o:usercookie.getParameterValue(usercookie.getCookie("iploc"),"gcniso"),ObjectTrim(t)},ContactDetail.prototype.sendRequest=function(e,t){var r=this.getData(t),o="Enq"===ReqObj.Form[t].formType?"Send Enquiry":"Post Buy Leads";""===r.s_first_name&&""===r.s_mobile&&""===r.s_email&&""===r.s_city_name||$.ajax({cache:!1,url:appsServerName+"index.php?r=Newreqform/GlusrUpdate",type:"GET",data:r,dataType:"json",success:function(r){if(isSet(r))if(isSet(r.msg)&&isSet(r.msg.MESSAGE)&&"200"==r.msg.MESSAGE.CODE){(new LoginMode).getLoginMode();var i=new UserLogin;i.sendRequest({data:{logObject:"",tmpId:t,userlogin:i,blureve:!1,todo:"glusrupdate"}}),blenqGATracking(o,"service:GlusrUpdate:success",getEventLabel(),1,t),PostAjax(e,t,[])}else blenqGATracking(o,"service:GlusrUpdate:failure",r,1,t),Ajaxfailure(e,t);else blenqGATracking(o,"service:GlusrUpdate:failure","response undefined",1,t),Ajaxfailure(e,t)},error:function(r){r=isSet(r)?JSON.stringify(r):"response undefined",blenqGATracking(o,"service:GlusrUpdate:failure",r,1,t),Ajaxfailure(e,t)}})},ContactDetail.prototype.handleEvents=function(e,t){$(document).ready(function(){$("#t"+t+"_q_first_nm").on("focus",{obj:e,todo:"removeError",tmpId:t},e.handleUI),$("#t"+t+"_q_city_oth").on("focus",{obj:e,todo:"removeError",tmpId:t},e.handleUI),$("#t"+t+"_q_email_in").on("focus",{obj:e,todo:"removeError",tmpId:t},e.handleUI),$("#t"+t+"_change_city").on("click",{obj:e,tmpId:t},e.enableCity),$("#t"+t+"_q_mobile_f").on("keypress",validation.isNumberKey),$("#t"+t+"_q_mobile_f").on("focus",{obj:e,todo:"removeError",tmpId:t},e.handleUI)})},ContactDetail.prototype.handleUI=function(e){e.data.obj;var t=e.data.todo,r=e.data.tmpId;if("nameUI"===t&&""!==$("#t"+r+"_q_first_nm").val()&&($("#t"+r+"_q_first_nm").prop("disabled",!1),$("#t"+r+"_q_first_nm").prop("readonly",!0)),"removeError"===t&&($("#t"+r+"_error_first_name").addClass("bedsnone"),$("#t"+r+"_err_email").addClass("bedsnone"),$("#t"+r+"_error_city").addClass("bedsnone"),$("#t"+r+"_q_first_nm").removeClass("highlight-err"),$("#t"+r+"_q_email_in").removeClass("highlight-err"),$("#t"+r+"_q_city_oth").removeClass("highlight-err"),$("#t"+r+"_name-lb").removeClass("redc"),$("#t"+r+"_email-lb").removeClass("redc"),$("#t"+r+"_for-city-lb").removeClass("redc"),$("#t"+r+"_error_mobile").addClass("bedsnone"),$("#t"+r+"_q_mobile_f").removeClass("highlight-err"),$("#t"+r+"_mobile-lb").removeClass("redc")),"cityOthers"===t){r=e.data.tmpId;$("#t"+r+"_q_city_oth").val(ReqObj.Form[r].cityOth),$("#t"+r+"_q_city_oth").prop("disabled",!1)}},ContactDetail.prototype.enableCity=function(e){var t=e.data.obj,r=e.data.tmpId;$("#t"+r+"_q_city_oth").val(""),$("#t"+r+"_q_city_oth").prop("disabled",!1),$("#t"+r+"_q_city_oth").prop("readonly",!1),$("#t"+r+"_q_city_oth").focus(),t.showCitySuggestions(t,r)},ContactDetail.prototype.showCitySuggestions=function(e,t){var r=e.usercountry;main_city_sugg=new Suggester({element:"t"+t+"_q_city_oth",onSelect:e.selectCity,type:"city",fields:"std,state,id,stateid",minStringLengthToDisplaySuggestion:1,autocompleteClass:"bl-sugg",displayFields:"value,state",displaySeparator:" >> ",filters:"iso:"+r,recentData:!1,autocompleteClass:"be-sugg"})},ContactDetail.prototype.selectCity=function(e,t){var r=$(this).attr("templateId");$("#t"+r+"_q_city_oth").val(t.item.value),$("#city_id_sugg").val(t.item.data.id)},FormSeq.prototype.Enqinline=function(e){var t=this;this.NumberofClassCalled=2,ReqObj.Form[e].IsqStep1=ReturnCorrectVal(ReqObj.Form[e].IsqStep1,3),ReqObj.Form[e].IsqStepN=ReturnCorrectVal(ReqObj.Form[e].IsqStepN,2),ReqObj.Form[e].flags.isEnrichShown=!0;var r={pre:[],post:[]},o={UiArray:this.arraySeq,ServiceArray:this.ServiceSequence};if("product"===ReqObj.Form[e].modrefType.toLowerCase()&&"-126"===ReqObj.Form[e].afflId&&($("#t"+e+"_q_comp_sec").removeClass("bedsnone"),$("#t"+e+"_q_comp_name").val(ReqObj.Form[e].rcvName)),r={pre:[this.InlineOpenForm,this.SubsequentStep],post:[]},usercookie.getCookie("ImeshVisitor")){this.NumberofClassCalled-=1;var i=$("#t"+e+"_byrinfoIn").html(get_buyer_info(e));1===parseInt(ReqObj.Form[e].BuyerInfo)&&i.removeClass("bedsnone")}else{r.pre=[],r.post=[this.InlineOpenForm,this.SubsequentStep];var a={object:{obj:new UserLogin(e),toReplace:!0,objHtmlId:e+"_loginIn",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(a),r.pre=[],r.post=[]}if("01"===e.substring(0,2)){if(ShowProdName(e)){this.NumberofClassCalled+=1,r={pre:[],post:[]},usercookie.getCookie("ImeshVisitor")&&(r={pre:[this.InlineOpenForm,this.SubsequentStep],post:[]});var s={object:{obj:new ProductName(e),toReplace:!0,objHtmlId:e+"_prodtitleIn",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(s);var n={object:{obj:new Generation(0),toReplace:!0,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(n)}}else{this.NumberofClassCalled+=1;n={object:{obj:new Generation(0),toReplace:!0,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(n),r={pre:[],post:[]};var l={object:{obj:new RequirementDtl(e),toReplace:!0,objHtmlId:e+"_reqboxIn",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(l)}if(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"fn"))this.NumberofClassCalled-=1,this.FullServiceArray.push(o.ServiceArray),ReqObj.Form[e].UiArray.push(o.UiArray),this.getStep(e);else{r={pre:[],post:[]};var c={object:{obj:new PostBlEnqUpdate(e),toReplace:!1,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null},m={object:{obj:new ContactDetail(1,0,0),toReplace:!1,objHtmlId:e+"_contactinfoIn",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[c],hasFallback:!1,FallbackObj:null};this.MakeSeq(m)}},FormSeq.prototype.Enqpopup=function(e){var t=this;ReqObj.Form[e].IsqStep1=ReturnCorrectVal(ReqObj.Form[e].IsqStep1,3),ReqObj.Form[e].IsqStepN=ReturnCorrectVal(ReqObj.Form[e].IsqStepN,2),ReqObj.Form[e].flags.isEnrichShown=!0;var r={pre:[],post:[]},o={UiArray:this.arraySeq,ServiceArray:this.ServiceSequence};if(usercookie.getCookie("ImeshVisitor")){if(usercookie.getCookie("imEqGl")&&ShowOtp())this.NumberofClassCalled=1,r.pre=[],r.post=[this.SubsequentStep],CreateSeq({object:{obj:new UserVerification(e),toReplace:!0,objHtmlId:e+"_otpbox",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null});else if($("#t"+e+"_byrinfo").html(get_buyer_info(e)).removeClass("bedsnone"),ShowProdName(e)){this.NumberofClassCalled=2,r={pre:[this.SubsequentStep],post:[]};n={object:{obj:new ProductName(e),toReplace:!0,objHtmlId:e+"_prodtitle",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(n),r={pre:[],post:[]};l={object:{obj:new Generation(0),toReplace:!0,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};if(this.MakeSeq(l),ReqObj.Form[e].disableIsq){this.NumberofClassCalled=1,o={UiArray:[],ServiceArray:[]},r.pre=[this.OnCloseSeq],r.post=[],CreateSeq(i={object:{obj:new RequirementDtl(e),toReplace:!0,objHtmlId:e+"_reqbox",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null})}else{r.pre=[],r.post=[];var i={object:{obj:new RequirementDtl(e),toReplace:!0,objHtmlId:e+"_reqbox",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};CreateSeq({object:{obj:ReqObj.Form[e].GlobalIsqObject,objHtmlId:e+"_isqbox",array:o,hooks:r,isService:!1},tmpId:e,that:t,AfterService:[],hasFallback:!0,FallbackObj:i})}}else if(NEC()&&"IN"!==currentISO()&&!usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"fn")||NEC()&&"IN"===currentISO()){r.pre=[this.SubsequentStep],r.post=[];var a={object:{obj:new Generation(0),toReplace:!0,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};if(this.MakeSeq(a),NEC()){this.NumberofClassCalled=1,r={pre:[],post:[]};m={object:{obj:new PostBlEnqUpdate(e),toReplace:!1,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};CreateSeq(d={object:{obj:new ContactDetail(1,1,1),toReplace:!1,objHtmlId:e+"_contactinfo",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[m],hasFallback:!1,FallbackObj:null})}}else if(ReqObj.Form[e].disableIsq){this.NumberofClassCalled=1,r.pre=[this.OnCloseSeq],r.post=[];a={object:{obj:new Generation(0),toReplace:!0,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(a),r.pre=[],r.post=[],CreateSeq(i={object:{obj:new RequirementDtl(e),toReplace:!0,objHtmlId:e+"_reqbox",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null})}else{this.NumberofClassCalled=1,r.pre=[this.SubsequentStep],r.post=[];a={object:{obj:new Generation(0),toReplace:!0,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(a),r.pre=[],r.post=[];i={object:{obj:new RequirementDtl(e),toReplace:!0,objHtmlId:e+"_reqbox",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};CreateSeq({object:{obj:ReqObj.Form[e].GlobalIsqObject,objHtmlId:e+"_isqbox",array:o,hooks:r,isService:!1},tmpId:e,that:t,AfterService:[],hasFallback:!0,FallbackObj:i})}}else{this.NumberofClassCalled=3,r.post=[this.SubsequentStep];var s={object:{obj:new UserLogin(e),toReplace:!0,objHtmlId:e+"_loginfld",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};if(this.MakeSeq(s),ShowProdName(e)){r={pre:[],post:[]};var n={object:{obj:new ProductName(e),toReplace:!0,objHtmlId:e+"_prodtitle",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(n)}else this.NumberofClassCalled-=1;r={pre:[],post:[]};var l={object:{obj:new Generation(0),toReplace:!0,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(l);var c=currentISO();if(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"fn")||"IN"===c)this.NumberofClassCalled-=1,this.FullServiceArray.push(o.ServiceArray),ReqObj.Form[e].UiArray.push(o.UiArray),this.getStep(e);else{r={pre:[],post:[]};var m={object:{obj:new PostBlEnqUpdate(e),toReplace:!1,isService:!0,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null},d={object:{obj:new ContactDetail(1,0,0),toReplace:!1,objHtmlId:e+"_contactinfo",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[m],hasFallback:!1,FallbackObj:null};this.MakeSeq(d)}}},FormSeq.prototype.OnCloseSeq=function(e){this.OnCloseServiceArray=[],ReqObj.Form[e].OnCloseArray=[],ReqObj.Form[e].OnCloseStep=!0,this.OnCloseCounter=-1,this.NumberofClassCalled=4;var t=this;ReqObj.Form[e].flags.IsFirstStep=!1;for(var r=0;r<ReqObj.Form[e].UiArray[t.StepCounter].length;r++)$("#t"+ReqObj.Form[e].UiArray[t.StepCounter][r].id).addClass("bedsnone"),$("#t"+ReqObj.Form[e].UiArray[t.StepCounter][r].id).children().each(function(){$(this).addClass("bedsnone")});var o={pre:[],post:[]},i={UiArray:[],ServiceArray:[]};if(ShowOtp()&&!ReqObj.Form[e].flags.isOtpShown){o.pre=[],o.post=[this.OnClosegetStep];var a={object:{obj:new UserVerification(e),toReplace:!1,objHtmlId:e+"_otpbox",isService:!1,array:i,hooks:o},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(a),this.OnCloseServiceArray.push(i.ServiceArray),ReqObj.Form[e].OnCloseArray.push(i.UiArray)}if(NEC()){i={UiArray:[],ServiceArray:[]};o.pre=[this.OnClosegetStep],o.post=[];var s={object:{obj:new ContactDetail(1,1,1),toReplace:!1,objHtmlId:e+"_contactinfo",isService:!1,array:i,hooks:o},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(s),o.pre=[],o.post=[];var n={object:{obj:new PostBlEnqUpdate(e),toReplace:!1,isService:!0,array:i,hooks:o},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(n),this.OnCloseServiceArray.push(i.ServiceArray),ReqObj.Form[e].OnCloseArray.push(i.UiArray)}i={UiArray:[],ServiceArray:[]};o.pre=[],o.post=[];var l={object:{obj:new ThankYou,toReplace:!1,objHtmlId:e+"_thankDiv",isService:!1,array:i,hooks:o},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};this.MakeSeq(l),this.OnCloseServiceArray.push(i.ServiceArray),ReqObj.Form[e].OnCloseArray.push(i.UiArray),this.OnClosegetStep(e)},FormSeq.prototype.CleanUiForOnClose=function(e){var t=this;if($("#t"+e+"_submit").removeClass().addClass("bedsnone"),isSet(t)&&isSet(ReqObj.Form[e].OnCloseArray)&&isSet(ReqObj.Form[e].OnCloseArray[t.OnCloseCounter]))for(var r=0;r<ReqObj.Form[e].OnCloseArray[t.OnCloseCounter].length;r++)$("#t"+ReqObj.Form[e].OnCloseArray[t.OnCloseCounter][r].id).addClass("bedsnone"),$("#t"+ReqObj.Form[e].OnCloseArray[t.OnCloseCounter][r].id).children().each(function(){$(this).addClass("bedsnone")})},FormSeq.prototype.ShowStepForOnClose=function(e){var t=this;$("#t"+e+"_hdg").removeClass("bedsnone");var r="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads",o="DisplayStep|"+(parseInt(this.StepCounter)+1+parseInt(t.OnCloseCounter)+1)+"|";if(isSet(ReqObj.Form[e].OnCloseArray)&&isSet(this)&&isSet(ReqObj.Form[e].OnCloseArray[this.OnCloseCounter])){for(var i=0;i<ReqObj.Form[e].OnCloseArray[this.OnCloseCounter].length;i++)$("#t"+ReqObj.Form[e].OnCloseArray[t.OnCloseCounter][i].id).html(ReqObj.Form[e].OnCloseArray[t.OnCloseCounter][i].Obj.displayHtml(e)).removeClass("bedsnone"),ReqObj.Form[e].OnCloseArray[t.OnCloseCounter][i].Obj.defaultEvents(e),i<ReqObj.Form[e].OnCloseArray[t.OnCloseCounter].length&&i>0&&(o+="-"),o+=ConstructorName(ReqObj.Form[e].OnCloseArray[t.OnCloseCounter][i].Obj);buttonName(ReqObj.Form[e].OnCloseArray[this.OnCloseCounter],e)}blenqGATracking(r,o,getEventLabel(),1,e),$("#t"+e+"_submit").off("click").on("click",function(){t.FormCloseSubmit(e)}),$("#t"+e+"_bl_form").off("keypress").on("keypress",function(r){13===(r.keyCode?r.keyCode:r.which)&&r.target.id!=="t"+e+"prodtitle"&&t.FormCloseSubmit(e)})},FormSeq.prototype.FormCloseSubmit=function(e){var t=this,r=!1,o="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads";if(isSet(ReqObj.Form[e].OnCloseArray)&&isSet(ReqObj.Form[e].OnCloseArray[t.OnCloseCounter]))for(var i=0;i<ReqObj.Form[e].OnCloseArray[t.OnCloseCounter].length;i++)if(isSet(ReqObj.Form[e].OnCloseArray[t.OnCloseCounter][i].Obj)&&"function"==typeof ReqObj.Form[e].OnCloseArray[t.OnCloseCounter][i].Obj.validate&&!ReqObj.Form[e].OnCloseArray[t.OnCloseCounter][i].Obj.validate(e)){r=!0;break}if(!r){for(i=0;i<ReqObj.Form[e].UiArray[t.StepCounter].length;i++)isSet(ReqObj.Form[e].UiArray[t.StepCounter][i].Obj)&&"function"==typeof ReqObj.Form[e].UiArray[t.StepCounter][i].Obj.SaveDetails&&ReqObj.Form[e].UiArray[t.StepCounter][i].Obj.SaveDetails(e),i<ReqObj.Form[e].UiArray[this.StepCounter].length&&i>0&&(a+="-");var a="SubmitStep|"+(this.StepCounter+1+t.OnCloseCounter+1)+"|";if($("#t"+e+"_submit").removeClass().addClass("bedsnone"),formatServices(t.OnCloseServiceArray[t.OnCloseCounter],e),isSet(ReqObj.Form[e].OnCloseArray)&&isSet(ReqObj.Form[e].OnCloseArray[t.OnCloseCounter]))for(var s=0;s<ReqObj.Form[e].OnCloseArray[t.OnCloseCounter].length;s++)s<ReqObj.Form[e].OnCloseArray[t.OnCloseCounter].length&&s>0&&(a+="-"),a+=ConstructorName(ReqObj.Form[e].OnCloseArray[t.OnCloseCounter][s].Obj),$("#t"+ReqObj.Form[e].OnCloseArray[t.OnCloseCounter][s].id).addClass("bedsnone"),$("#t"+ReqObj.Form[e].OnCloseArray[t.OnCloseCounter][s].id).children().each(function(){$(this).addClass("bedsnone")});for(blenqGATracking(o,a,getEventLabel(),0,e);ReqObj.Form[e].ServiceSequence.length>0;)ReqObj.Form[e].ServiceSequence[0].fn.onSubmit(e);if(isSet(t.OnCloseServiceArray)&&isSet(t.OnCloseServiceArray[t.OnCloseCounter]))for(i=0;i<t.OnCloseServiceArray[t.OnCloseCounter].length;i++)for(s=0;s<t.OnCloseServiceArray[t.OnCloseCounter][i].pre.length;s++)PrePostService(t.OnCloseServiceArray[t.OnCloseCounter][i].pre[s],e)}},FormSeq.prototype.OnClosegetStep=function(e){this.OnCloseCounter+=1,isSet(ReqObj.Form[e].OnCloseArray)&&this.OnCloseCounter<ReqObj.Form[e].OnCloseArray.length&&this.ShowStepForOnClose(e)},Generation.prototype.defaultEvents=function(){},Generation.prototype.onSubmit=function(e){this.cookies(),1===this.arg&&this.intentGeneration(e),0===this.arg&&this.blEnqGeneration(e)},Generation.prototype.cookies=function(){this.imeshCookie=usercookie.getCookie("ImeshVisitor"),this.imEqGlCookie=usercookie.getCookie("imEqGl"),this.iplocCookie=usercookie.getCookie("iploc"),this.v4iilexCookie=usercookie.getCookie("v4iilex"),this.geoLocCookie=usercookie.getCookie("GeoLoc"),this.iso=usercookie.getParameterValue(this.imeshCookie,"iso")},Generation.prototype.getData=function(e){var t={},r=0!==ReqObj.loginMode?ReqObj.loginMode:(new LoginMode).getLoginMode();(t=1===this.arg?this.getIntentData(e):0===this.arg?this.getBLEnqData(ReqObj.Form[e].formType,e):{}).modid=ReqObj.Form[e].modId,t.mcatID=ReqObj.Form[e].mcatId,t.catID=ReqObj.Form[e].catId,t.login_mode=r,t.s_glusrid=usercookie.getParameterValue(this.imeshCookie,"glid"),t.s_country_iso=this.iso,t.s_ip_country=usercookie.getParameterValue(this.iplocCookie,"gcnnm"),t.s_ip=usercookie.getParameterValue(this.iplocCookie,"gip"),t.s_ip_country_iso=usercookie.getParameterValue(this.iplocCookie,"gcniso"),t.curr_page_url=window.location.href,t.landing_ref_url=usercookie.getCookie("site-entry-page"),t.prev_page_url=document.referrer,t.s_country_name=void 0!==ReqObj.changeUserCountry&&""!==ReqObj.changeUserCountry?ReqObj.changeUserCountry:"",""!==this.geoLocCookie&&(t.lat=usercookie.getParameterValue(this.geoLocCookie,"lt"),t.long=usercookie.getParameterValue(this.geoLocCookie,"lg"),t.lt_lg_accu=usercookie.getParameterValue(this.geoLocCookie,"accu"));var o=ReqObj.Form[e].CefProdType,i=void 0!==o&&""!==o?o:void 0!==ReqObj.Form[e].prodServ?ReqObj.Form[e].prodServ:"P";return void 0!==ReqObj.Form[e].perWidget?t.rfq_query_ref_text=ReqObj.Form[e].perWidget:void 0!==ReqObj.Form[e].industry_ques&&""!==ReqObj.Form[e].industry_ques?t.rfq_query_ref_text=ReqObj.Form[e].refText+ReqObj.Form[e].industry_ques+"|"+i+"|":t.rfq_query_ref_text=ReqObj.Form[e].refText+"|"+i+"|",ObjectTrim(t)},Generation.prototype.getBLEnqData=function(e,t){var r={};if("BL"===e){var o=ReqObj.Form[t].prodName,i=$("#t"+t+"prodtitle").val();r.s_prod_name=o!==i&&void 0!==i&&""!==i?i:o}var a=$("#req_q_desc_enrichmt");r.desc=a.length>0?a.val():"";var s=usercookie.getParameterValue(this.imeshCookie,"fn");r.s_name=""===s?$("#t"+t+"_q_first_nm").val():s,r.s_first_name=r.s_name,"IN"===this.iso?(s=usercookie.getParameterValue(this.imeshCookie,"mb1"),r.s_mobile=""===s?$("#t"+t+"_q_mobile").val():s):(s=usercookie.getParameterValue(this.imeshCookie,"em"),r.s_email=""===s?$("#t"+t+"_q_email").val():s),r.rfq_search_keyword=ReqObj.Form[t].ss;var n=usercookie.getCookie("adcamp"),l=usercookie.getCookie("emktg");if(r.source_campaign="",""!==n){var c=usercookie.getParameterValue(n,"adcmp");r.source_campaign=r.source_campaign+n,r.adcmp=c}if(""!==l){var m=usercookie.getParameterValue(l,"Affliate_id");r.source_campaign=""===r.source_campaign?"emktg"+m:r.source_campaign+"|emktg"+m}r.city_others=$("#t"+t+"_q_city_oth").val()!==usercookie.getParameterValue(this.iplocCookie,"gctnm")&&""===$("#city_id_sugg").val()?$("#t"+t+"_q_city_oth").val():"",r.state_others="",r.prod_serv=ReqObj.Form[t].prodServ,r.flag=e,r.afflid=ReqObj.Form[t].afflId,r.s_city_name=$("#t"+t+"_q_city_oth").val(),r.s_state_name="",r.s_city_id=usercookie.getParameterValue(this.imeshCookie,"ctid");var d={1399:0,1299:-1,1879:0,1890:0,1999:0,4299:0,149:-1,2199:-1,199:-1,1199:-1,1899:0,3299:0,699:-1,1499:-1,2399:-1,1869:0,179:-1,700:-1,750:-1},b=ReqObj.Form[t].rcvCustType;if(r.category_type=void 0!==d[b]&&0===d[b]?"f":"p","Enq"===e){r.r_glusrid=ReqObj.Form[t].rcvGlid,r.modref_id=ReqObj.Form[t].pDispId,r.modref_type=ReqObj.Form[t].modrefType?ReqObj.Form[t].modrefType:"P"===ReqObj.Form[t].prodServ?1:2,r.s_company=ReqObj.Form[t].C_S_organization,r.s_prod_name=ReqObj.Form[t].prodName;var p=ReqObj.Form[t].prodDispName;r.s_prod_dispname=void 0!==p&&""!==p&&null!==p&&"null"!==p?p:""}return"R"!==ReqObj.Form[t].insert&&"U"!==ReqObj.Form[t].insert||(r.flag="R",r.req_id=ReqObj.Form[t].generationId),r},Generation.prototype.getIntentData=function(e){var t={},r=(t={modref_type:ReqObj.Form[e].modrefType,modref_id:ReqObj.Form[e].pDispId,r_glusrid:ReqObj.Form[e].rcvGlid,s_prod_name:ReqObj.Form[e].prodName,s_first_name:usercookie.getParameterValue(this.imeshCookie,"fn")},ReqObj.Form[e].reqSent);return t.flag="Yes"===r||"yes"===r||1===r?12:1,"IN"===this.iso?t.s_mobile=usercookie.getParameterValue(this.imeshCookie,"mb1"):t.s_email=usercookie.getParameterValue(this.imeshCookie,"em"),t},Generation.prototype.intentGeneration=function(e){var t="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads";if(""!==this.imeshCookie){var r=this.getData(e);$.ajax({cache:!1,url:appsServerName+"index.php?r=Newreqform/IntentGeneration",type:"GET",dataType:"json",data:r,success:function(o){isSet(o)&&isSet(o.success)&&1==o.success?12==r.flag&&blenqGATracking(t,"service:IntentGeneration:success",getEventLabel(),1,e):blenqGATracking(t,"service:IntentGeneration:failure",o,1,e)},error:function(r){r=isSet(r)?r:"response undefined",blenqGATracking(t,"service:IntentGeneration:failure",r,1,e)}})}},Generation.prototype.blEnqGeneration=function(e){var t="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads";if(-2===ReqObj.Form[e].mcatId||!isSet(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"glid"))||""===usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"glid")||ReqObj.Form[e].generationId>1&&"R"!==ReqObj.Form[e].insert&&"U"!==ReqObj.Form[e].insert)ReqObj.Form[e].ServiceSequence.splice(0,1)[0];else if(ReqObj.Form[e].generationCalled)ReqObj.Form[e].ServiceSequence.splice(0,1)[0];else{termNcdata(e),ReqObj.Form[e].generationCalled=!0;var r=PreAjax("Generation",e),o=this.getData(e);if("Enq"===ReqObj.Form[e].formType&&void 0!==this.imEqGlCookie&&""===this.imEqGlCookie&&"V"!==usercookie.getParameterValue(this.imeshCookie,"uv")&&"IN"===usercookie.getParameterValue(this.imeshCookie,"iso")){var i=isSet(ReqObj.Form[e].enquiryDivID)&&""!==ReqObj.Form[e].enquiryDivID?ReqObj.Form[e].enquiryDivID:"dispid"+ReqObj.Form[e].pDispId;usercookie.setCookie("imEqGl",i,"1",e)}"R"!==ReqObj.Form[e].insert&&"U"!==ReqObj.Form[e].insert||ReqObj.Form[e].generationId>=1&&(o.req_id=ReqObj.Form[e].generationId,o.flag=ReqObj.Form[e].insert),$.ajax({cache:!1,url:appsServerName+"index.php?r=Newreqform/Postreq",type:"GET",dataType:"json",data:o,success:function(o){isSet(o)?("Enq"===ReqObj.Form[e].formType&&"I"===ReqObj.Form[e].insert?(ReqObj.Form[e].generationId=o.queryid,ReqObj.Form[e].query_destination=o.query_destination,blenqGATracking(t,"service:Enquiry generation:success",getEventLabel(),1,e),disableEnquiryButton(e)):"BL"===ReqObj.Form[e].formType&&"I"===ReqObj.Form[e].insert?(ReqObj.Form[e].generationId=o.ofr,blenqGATracking(t,"service:BL generation:success",getEventLabel(),1,e)):blenqGATracking(t,"service:BL Update generation:success",getEventLabel(),1,e),PostAjax(r,e,[])):("Enq"===ReqObj.Form[e].formType&&"I"===ReqObj.Form[e].insert?blenqGATracking(t,"service:Enquiry Generation:failure","response undefined",1,e):"BL"===ReqObj.Form[e].formType&&"I"===ReqObj.Form[e].insert?blenqGATracking(t,"service:BL Generation:failure","response undefined",1,e):blenqGATracking(t,"service:BL Update Generation:failure","response undefined",1,e),Ajaxfailure(r,e))},error:function(o){Ajaxfailure(r,e);var i=isSet(o)?o:"response undefined";"Enq"===ReqObj.Form[e].formType&&"I"===ReqObj.Form[e].insert?blenqGATracking(t,"service:Enquiry Generation:failure",i,1,e):"BL"===ReqObj.Form[e].formType&&"I"===ReqObj.Form[e].insert?blenqGATracking(t,"service:BL Generation:failure",i,1,e):blenqGATracking(t,"service:BL Update Generation:failure",i,1,e),usercookie.deleteCookie("imEqGl"),$("#t"+e+"_cls").off("click").on("click",function(){CloseForm(e)})}})}};var ReqObj={Form:{},Original:{},TempNumber:"",OverlayHtml:"",UserDetail:{fn:"",em:"",ctid:"",mb:"",uv:""},changeUserIso:"",changeUserCountry:"",isoFlag:"",isTNCShownOnFirstStep:!1,updateImage:0,IsqCalled:[],userType:"",loginMode:0},TreeConfig={ProductName:[],UserLogin:[],Generation:["UserLogin","ProductName","UserVerification"],Isq:["Generation"],PostBlEnqUpdate:["Generation"],ContactDetail:["UserLogin"],UserVerification:["UserLogin"],RequirementDtl:["Generation"]},BtnType={ProductName:{order:2,text:"Submit",class:"form-btn",parent:"befstgo2"},UserLogin:{order:1,text:"Go",class:"befstbtn",parent:"befstgo"},Isq:{order:4,text:"Next",class:"form-btn",parent:"befstgo2"},ContactDetail:{order:3,text:"Submit",class:"form-btn",parent:"befstgo2"},UserVerification:{order:5,text:"Confirm Requirement",class:"blotpbtn",parent:"befstgo3"},RequirementDtl:{order:4,text:"Next",class:"form-btn",parent:"befstgo2"},ThankYou:{order:10,text:"Next",class:"form-btn",parent:"befstgo2"}},Templateconfig={"01":{istitleEditable:!0,isTitleSuggSet:!1,isFlagSuggSet:!1,isOtpShown:!1,isNECShown:!1,isDescDivShown:!1,isEnrichShown:!1,WasProdNamePresent:!1},"02":{istitleEditable:!0,isTitleSuggSet:!1,isFlagSuggSet:!1,isOtpShown:!1,isNECShown:!1,isDescDivShown:!1,isEnrichShown:!1,WasProdNamePresent:!1},"03":{istitleEditable:!0,isTitleSuggSet:!1,isFlagSuggSet:!1,isOtpShown:!1,isNECShown:!1,isDescDivShown:!1,isEnrichShown:!1,WasProdNamePresent:!1},"04":{istitleEditable:!1,isTitleSuggSet:!1,isFlagSuggSet:!1,isOtpShown:!1,isNECShown:!1,isDescDivShown:!1,isEnrichShown:!1,WasProdNamePresent:!1},"05":{istitleEditable:!1,isTitleSuggSet:!1,isFlagSuggSet:!1,isOtpShown:!1,isNECShown:!1,isDescDivShown:!1,isEnrichShown:!1,WasProdNamePresent:!1},"08":{istitleEditable:!0,isTitleSuggSet:!1,isFlagSuggSet:!1,isOtpShown:!1,isNECShown:!1,isDescDivShown:!1,isEnrichShown:!1,WasProdNamePresent:!1},"09":{istitleEditable:!0,isTitleSuggSet:!1,isFlagSuggSet:!1,isOtpShown:!1,isNECShown:!1,isDescDivShown:!1,isEnrichShown:!1,WasProdNamePresent:!1}},BlPopup=["09"],EnqPopup=["09"],template_array=[],global_euroArr=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB","UK"],savedMcatIsq={},savedCatIsq={},HitMcatIsq={},isBLFormOpen=!1,IsqSeperator=",",dataWr={DATA:[{IM_SPEC_MASTER_FULL_DESC:"",IM_SPEC_MASTER_ID:"147968",IM_SPEC_MASTER_DESC:"Looking for suppliers",IM_SPEC_MASTER_TYPE:"2",IM_SPEC_OPTIONS_DESC:DataSeparator(["Anywhere in India","Local Only","Specific City"]),IM_SPEC_OPTIONS_ID:DataSeparator(["386611","386612","386613"])}]},dataSWr={DATA:[{IM_SPEC_MASTER_FULL_DESC:"",IM_SPEC_MASTER_ID:"147968",IM_SPEC_MASTER_DESC:"Looking for suppliers",IM_SPEC_MASTER_TYPE:"2",IM_SPEC_OPTIONS_DESC:DataSeparator(["Anywhere in India","Local Only","Specific City"]),IM_SPEC_OPTIONS_ID:DataSeparator(["386611","386612","386613"])}]};function DataSeparator(e){return e.join(IsqSeperator)}var appsServerName=(webAddressLocation=location.hostname).match(/^dev/)?"//dev-apps.imimg.com/":webAddressLocation.match(/^stg/)?"//stg-apps.imimg.com/":"//apps.imimg.com/";function UserCookie(){}function getMcatImage(e,t){var r="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads";isSet(ReqObj.Form[e].mcatId)&&-1!==ReqObj.Form[e].mcatId&&""!==ReqObj.Form[e].mcatId&&isSet(ReqObj.Form[e].modId)&&-1!==ReqObj.Form[e].modId&&""!==ReqObj.Form[e].modId&&($("#t"+e+"_imglodr").removeClass("bedsnone"),$.ajax({cache:!1,url:appsServerName+"index.php?r=postblenq/McatDtl",type:"GET",crossOrigin:!0,crossDomain:!0,timeout:3e3,data:{modid:ReqObj.Form[e].modId,mcatid:ReqObj.Form[e].mcatId},dataType:"json",success:function(r){if(isSet(r)&&isSet(r.Response)&&200==r.Response.Code&&isSet(r.Response.Data)&&isSet(r.Response.Data.glcat_mcat_img1_250x250)){var o=r.Response.Data.glcat_mcat_img1_250x250;o=o.replace("http:",""),t.hasCallback?ReqObj.Form[e].displayImage=o:ReqObj.mcatImage=o}},error:function(t){t=isSet(t)?t:"response undefined",blenqGATracking(r,"service:McatDtl:failure",JSON.stringify(t),0,e)},complete:function(){t.hasCallback&&t.cbfunc(e),$("#t"+e+"_imglodr").addClass("bedsnone")}}))}UserCookie.prototype.getCookie=function(e){var t=document.cookie,r=e+"=";if(isSet(t)&&t.length>0){var o=t.indexOf(r);if(-1===o)return"";o+=r.length;var i=t.indexOf(";",o);return-1===i&&(i=t.length),unescape(t.substring(o,i))}return""},UserCookie.prototype.getParameterValue=function(e,t){if(isSet(e)&&""!==e){for(var r=e.split("|"),o=r.length,i=0;i<o;i++){var a=r[i].split("=");if(a[0]===t)return isSet(a[1])&&""!==a[1]?a[1]:""}return""}return""},UserCookie.prototype.setCookie=function(e,t,r,o){var i="",a=window.location.href;if(r&&t){var s=new Date;s.setTime(s.getTime()+24*r*60*60*1e3),i="; expires="+s.toGMTString()}if(isSet(ReqObj.Form[o].modId)&&"TDW"===ReqObj.Form[o].modId){var n=document.location.hostname;document.cookie=e+"="+t+i+"; domain="+n+";path=/"}else a.match("hellotrade.com")?document.cookie=e+"="+escape(t)+i+"; domain=.hellotrade.com;path=/":a.match("indianindustry.com")?document.cookie=e+"="+escape(t)+i+"; domain=.indianindustry.com;path=/":document.cookie=e+"="+escape(t)+i+"; domain=.indiamart.com;path=/"},UserCookie.prototype.deleteCookie=function(e){document.cookie=e+"=;expires=;domain=.indiamart.com;path=/"};var usercookie=new UserCookie;function ObjectTrim(e){var t={};for(var r in e)"string"==typeof e[r]&&(e[r]=e[r].trim()),""!==e[r]&&(t[r]=e[r]);return t}function CheckLocalStorage(){try{return localStorage.setItem("__checklocalstorage","exists"),localStorage.removeItem("__checklocalstorage"),!0}catch(e){return!1}}function Validation(){new UserCookie;this.result={type:!0,error:""},this.usercountry=currentISO()}function LoginFlag(){}function LoginMode(){}function isEuroCountry(e){for(var t=global_euroArr.length,r=0;r<t;r++)if(global_euroArr[r]===e)return!0;return!1}function isSet(e){return void 0!==e&&null!==e}function movetoNext(e){""!==$("#"+e.data.param1).val()&&$("#"+e.data.param2).focus()}function movetoPrevious(e){8==e.keyCode&&""===$("#"+e.data.param1).val()&&($("#"+e.data.param2).focus(),$("#"+e.data.param2).html(""))}function stringToObject(e,t){for(var r=e.split(t),o=r.length,i={},a=0;a<o;a++){var s=r[a].split("=");i[s[0]]=s[1]}return i}function MakeRefText(e){ReqObj.Form[e].refText="ctaName="+(isSet(ReqObj.Form[e].ctaName)?ReqObj.Form[e].ctaName:""),ReqObj.Form[e].refText+="|ctaType="+(isSet(ReqObj.Form[e].ctaType)?ReqObj.Form[e].ctaType:""),ReqObj.Form[e].refText+="|PT="+(isSet(ReqObj.Form[e].pageType)?ReqObj.Form[e].pageType:""),ReqObj.Form[e].refText+="|Section="+(isSet(ReqObj.Form[e].section)?ReqObj.Form[e].section:""),ReqObj.Form[e].refText+="|Position="+(isSet(ReqObj.Form[e].position)?ReqObj.Form[e].position:""),ReqObj.Form[e].refText+="|ScriptVer="+(isSet(ReqObj.Form[e].scriptVersion)?ReqObj.Form[e].scriptVersion:""),ReqObj.Form[e].refText+="|compRank="+(isSet(ReqObj.Form[e].FCPRank)?ReqObj.Form[e].FCPRank:""),ReqObj.Form[e].refText+="|searchTerm="+(isSet(ReqObj.Form[e].mcatName)?ReqObj.Form[e].mcatName:"")}function imInvokeRequestForGaCode(e,t){var r="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads",o=usercookie.getCookie("ImeshVisitor"),i="/cgi/"+ReqObj.Form[e].modId+"/"+r+"/"+getEventLabel();i+=""===o?"-new.mp":".mp",imgtm.push({event:"VirtualPageview",virtualPageURL:i,virtualPageTitle:"Send Enquiry -"+t,CD_Additional_Data:ReqObj.Form[e].refText})}function blenqGATracking(e,t,r,o,i){var a=0===o?"IMEvent":"IMEvent-NI";imgtm.push({event:a,eventCategory:e,eventAction:t,eventLabel:r,CD_Additional_Data:ReqObj.Form[i].modId+"-"+ReqObj.Form[i].refText})}function labelNEC(e){var t="";return""!==ReqObj.UserDetail.fn&&(t+="N"),"IN"===e?(""!==ReqObj.UserDetail.em&&(t+="E"),""!==ReqObj.UserDetail.ctid&&(t+="C"),""===t&&(t="NO-NEC")):(""!==ReqObj.UserDetail.mb1&&(t+="M"),""===t&&(t="NO-NM")),t}function getEventLabel(){var e=usercookie.getCookie("ImeshVisitor"),t=(usercookie.getParameterValue(e,"iso"),usercookie.getParameterValue(e,"uv")),r=currentISO(),o=""===e?"Unidentified":"V"===t?"Verified":"Unverified",i="in"===r.toLowerCase()?"Indian":"Foreign";return i+="|"+o+"|"+labelNEC(r)}function ServiceGATrack(e,t,r){isSet(_gaq)&&_gaq.push(["_trackEvent",e,t,r,0,!0])}function addTemplates(e){-1===$.inArray(e,template_array)&&template_array.push(e)}function FlagSuggestor(){this.tmpId="",this.flaghit={},this.suggdefined={},this.countryiso={}}function setCountryISO(e,t){flagsugg.setCountry(e,t)}function UpdateAfterLogin(e){""!==usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),e)&&(ReqObj.UserDetail[e]=setDetail(e))}function leftSideTransitionPrice(e){$("#t"+e+"_ProdPrice").html("");var t=ReqObj.Form[e].price;isSet(t)&&""!==t&&(t=(t=(t=t.replace(/Approx(.*?)Rs/,"")).replace(/Rs/,"")).trim(),$("#t"+e+"_ProdPrice").html("Rs. "+t))}function leftSideTransitionPnameCompname(e){var t=ReqObj.Form[e].prodDispName?ReqObj.Form[e].prodDispName:ReqObj.Form[e].prodName,r=ReqObj.Form[e].rcvName,o=ReqObj.Form[e].is_catalog_enq;isSet(t)&&""!==t&&leftSideTransitionPrice(e),isSet(o)&&1===o?isSet(t)&&""!==t&&($("#t"+e+"_Prodname").html(t).removeClass("bedsnone").addClass("be-pnm"),$("#t"+e+"_Compname").html(r).removeClass("bedsnone").addClass("befs14 be-inbl")):"company"===ReqObj.Form[e].modrefType?($("#t"+e+"_Prodname").html("").addClass("bedsnone"),$("#t"+e+"_Compname").html(r).removeClass("bedsnone befs14 be-inbl").addClass("be-pnm")):isSet(t)&&""!==t?($("#t"+e+"_Prodname").html(t).removeClass("bedsnone").addClass("be-pnm"),$("#t"+e+"_Compname").html(r).removeClass("bedsnone be-pnm").addClass("befs14 be-inbl")):($("#t"+e+"_Prodname").html("").addClass("bedsnone"),$("#t"+e+"_Compname").html(r).removeClass("bedsnone befs14 be-inbl").addClass("be-pnm"))}function leftSideTransitionAddress(e){$("#t"+e+"_locality").html(""),$("#t"+e+"_city").html(""),$("#t"+e+"_state").html("");var t=ReqObj.Form[e].rcvLocality,r=ReqObj.Form[e].rcvCity,o=ReqObj.Form[e].rcvState,i=ReqObj.Form[e].rcvName;void 0!==i&&""!==i&&"company"!==ReqObj.Form[e].modrefType&&(void 0!==t&&""!==t||void 0!==r&&""!==r)&&$("#t"+e+"_Compname").append(" |&nbsp;"),"undefined"!=typeof catalog_enq&&0!==catalog_enq||(void 0!==t&&""!==t&&void 0!==r&&""!==r?($("#t"+e+"_locality").html(t),r!==t&&($("#t"+e+"_locality").append(",&nbsp;"),$("#t"+e+"_city").html("  "+r))):void 0!==r&&""!==r&&($("#t"+e+"_city").html(r),r!==o&&void 0!==o&&""!==o&&($("#t"+e+"_city").append(",&nbsp;"),$("#t"+e+"_state").html(o))))}function update_image(e){""!==ReqObj.Form[e].displayImage?$("#t"+e+"_prodimg").html((new ReqImage).getImage(e+"_dispimage","",ReqObj.Form[e].displayImage)+'<span class="be-blrprdimg"  style="background-image: url('+ReqObj.Form[e].displayImage+');"></span>'):$("#t"+e+"_prodimg").html('<div id="'+e+'"defaultimage" class="be-nobgimg"><div class="blnewform_sprit be-noimg"></div></div>')}function leftSideTransition(e,t){if($("#t"+t+"_helpQuest").hide(),$("#t"+t+"parent_iframe").html("<div id='t"+t+"_prodVideo' class='be-prdimg'></div>"),"Enq"===ReqObj.Form[t].formType&&(leftSideTransitionPnameCompname(t),leftSideTransitionAddress(t)),"BL"===ReqObj.Form[t].formType&&1!==ReqObj.updateImage&&""===ReqObj.Form[t].displayImage&&""===ReqObj.Form[t].zoomImage&&0===$("#t"+t+"defaultimage").length&&(getMcatImage(t,{hasCallback:!0,cbfunc:update_image}),ReqObj.updateImage=1),0===e){"Enq"===ReqObj.Form[t].formType&&($("#t"+t+"_benext").removeClass("bedsnone"),isSet(ReqObj.Form[t].next)&&"function"==typeof ReqObj.Form[t].next&&""!==ReqObj.Form[t].next?($("#t"+t+"_qnextbtn").removeClass("bedsnone"),$("#t"+t+"_qnextbtn").off("click").on("click",{tmpId:t,todo:"next"},changeProd)):$("#t"+t+"_qnextbtn").addClass("bedsnone"),isSet(ReqObj.Form[t].prev)&&"function"==typeof ReqObj.Form[t].prev&&""!==ReqObj.Form[t].prev?($("#t"+t+"_beprevious").removeClass("bedsnone"),$("#t"+t+"_beprevious").off("click").on("click",{tmpId:t,todo:"prev"},changeProd)):$("#t"+t+"_beprevious").addClass("bedsnone"));var r=(new ReqImage).displayHtml(t);isSet(ReqObj.Form[t].ctaType)&&"video"===ReqObj.Form[t].ctaType.toLowerCase()?($("#t"+t+"parent_iframe").removeClass("bedsnone"),$("#t"+t+"_prodimg").addClass("bedsnone"),isSet(ReqObj.Form[t].vidUrl)&&""===ReqObj.Form[t].vidUrl&&($("#t"+t+"_prodimg").html(r),$("#t"+t+"parent_iframe").addClass("bedsnone"),$("#t"+t+"_prodimg").removeClass("bedsnone"))):($("#t"+t+"_prodimg").html(r),$("#t"+t+"parent_iframe").addClass("bedsnone"),$("#t"+t+"_prodimg").removeClass("bedsnone")),!isSet(ReqObj.Form[t].ctaType)||"image"!==ReqObj.Form[t].ctaType.toLowerCase()&&"video"!==ReqObj.Form[t].ctaType.toLowerCase()||$("#t"+t+"_leftS").removeClass().addClass("be-Lsc"),isSet(ReqObj.Form[t].ctaType)&&"image"===ReqObj.Form[t].ctaType.toLowerCase()&&$("#t"+t+"_zoomimage").on("load",function(){$("#t"+t+"_zoomimage").show(),$("#t"+t+"_dispimage").remove()}),isSet(ReqObj.Form[t].ctaType)&&"image"!==ReqObj.Form[t].ctaType.toLowerCase()&&"video"!==ReqObj.Form[t].ctaType.toLowerCase()&&("Enq"===ReqObj.Form[t].formType?($("#t"+t+"_leftS").removeClass().addClass("be-Lsc2"),$("#t"+t+"_zoomimage").on("load",function(){$("#t"+t+"_zoomimage").show(),$("#t"+t+"_dispimage").remove()})):"BL"===ReqObj.Form[t].formType&&($("#t"+t+"_leftS").removeClass().addClass("be-Lsc1"),$("#t"+t+"_helpQuest").show()))}else if(1===e){if((isSet(ReqObj.Form[t].next)&&"function"==typeof ReqObj.Form[t].next||isSet(ReqObj.Form[t].prev)&&"function"==typeof ReqObj.Form[t].prev)&&"Enq"===ReqObj.Form[t].formType&&($("#t"+t+"_benext").addClass("bedsnone"),$("#t"+t+"_beprevious").addClass("bedsnone"),$("#t"+t+"_qnextbtn").addClass("bedsnone")),$("#t"+t+"parent_iframe").html("<div id='t"+t+"_prodVideo' class='be-prdimg'></div>"),isSet(ReqObj.Form[t].ctaType)&&"video"===ReqObj.Form[t].ctaType.toLowerCase()){r=(new ReqImage).displayHtml(t,0);$("#t"+t+"_prodimg").html(r),$("#t"+t+"parent_iframe").addClass("bedsnone"),$("#t"+t+"_prodimg").removeClass("bedsnone")}else{if("BL"===ReqObj.Form[t].formType){1!==ReqObj.updateImage&&update_image(t);r=(new ReqImage).displayHtml(t);$("#t"+t+"_prodimg").html(r),$("#t"+t+"parent_iframe").addClass("bedsnone"),$("#t"+t+"_prodimg").removeClass("bedsnone"),$("#t"+t+"_helpQuest").show()}if("Enq"===ReqObj.Form[t].formType){r=(new ReqImage).displayHtml(t);$("#t"+t+"_prodimg").html(r),$("#t"+t+"parent_iframe").addClass("bedsnone"),$("#t"+t+"_prodimg").removeClass("bedsnone"),$("#t"+t+"_zoomimage").on("load",function(){$("#t"+t+"_zoomimage").show(),$("#t"+t+"_dispimage").remove()})}}$("#t"+t+"_leftS").removeClass().addClass("be-Lsc1")}}function checkedTNC(e){$("#t"+e+"_tCondCheckBox").prop("checked")?$("#t"+e+"_submit").prop("disabled",!1).css("background-color","#00a699"):$("#t"+e+"_submit").prop("disabled",!0).css("background-color","#b2b2b2")}function showTermsConditions(e){if(!1===ReqObj.Form[e].isTNCShownOnFirstStep){usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"iso");isEuroCountry(currentISO())&&($("#t"+e+"_tCond").removeClass("bedsnone"),$("#t"+e+"_tCondCheckBox").prop("checked",!1),$("#t"+e+"_submit").prop("disabled",!0).css("background-color","#b2b2b2"),ReqObj.Form[e].isTNCShownOnFirstStep=!0)}else $("#t"+e+"_tCond").addClass("bedsnone"),$("#t"+e+"_submit").prop("disabled",!1).css("background-color","#00a699")}function disableEnquiryButton(e){if("function"==typeof ReqObj.Form[e].enqSentCallBack){isSet(ReqObj.Form[e].enquiryDivID)&&""!==ReqObj.Form[e].enquiryDivID?ReqObj.Form[e].enquiryDivID:ReqObj.Form[e].pDispId;var t=ReturntoProp(e);ReqObj.Form[e].enqSentCallBack(t)}}function get_buyer_info(e){var t="",r=usercookie.getCookie("ImeshVisitor");if(r){t+="<b>Your Contact Information :</b><br/>";var o=ReturnCorrectVal(usercookie.getParameterValue(r,"fn"),ReturnCorrectVal(ReqObj.UserDetail.fn,""));""!==o&&(t+=o+"</br>");var i=ReturnCorrectVal(usercookie.getParameterValue(r,"mb1"),ReturnCorrectVal(ReqObj.UserDetail.mb1,"")),a=isSet(i)&&""!==i?"+"+usercookie.getParameterValue(r,"phcc")+"-":"";""!==a&&(t+=a+i+"</br>");var s=ReturnCorrectVal(usercookie.getParameterValue(r,"em"),ReturnCorrectVal(ReqObj.UserDetail.em,""));""!==s&&(t+=s+"</br>")}if(""!==t)return t}function ReturntoProp(e){var t=JSON.parse(JSON.stringify(ReqObj.Original[e]));return t.IsqArray=ReqObj.Form[e].IsqArray,t.displayImage=ReqObj.Form[e].displayImage,t.prodName=ReqObj.Form[e].prodName,t.generationId=ReqObj.Form[e].generationId,t.mcatName=ReqObj.Form[e].mcatName,t}function changeProd(e){var t=e.data.tmpId,r=e.data.todo;if($(".be-prdimg").children("img").attr("src",""),"prev"===r&&isSet(ReqObj.Form[t].prev)){var o=ReturntoProp(t);ReqObj.Form[t].prev(o)}else if("next"===r&&isSet(ReqObj.Form[t].next)){o=ReturntoProp(t);ReqObj.Form[t].next(o)}}function ShowProdName(e){return"product"!==ReqObj.Form[e].modrefType.toLowerCase()||""!==ReqObj.Form[e].prodName&&("bl"!==ReqObj.Form[e].formType.toLowerCase()||"09"!==e.substring(0,2)&&"04"!==e.substring(0,2))&&("enq"!==ReqObj.Form[e].formType.toLowerCase()||"04"!==e.substring(0,2)&&"01"!==e.substring(0,2))?ReqObj.Form[e].flags.WasProdNamePresent:(ReqObj.Form[e].flags.WasProdNamePresent=!0,!0)}function ShowReqBox(e){return!0!==ReqObj.Form[e].flags.isDescDivShown}function MakeOverlay(e){loadOverlay();return ReqObj.OverlayHtml.replace(/0901/gi,e)}function loadOverlay(){isSet($("#t0901_bewrapper").html())&&""!==$("#t0901_bewrapper").html()&&(ReqObj.OverlayHtml=$("#t0901_bewrapper").html())}function NEC(){return!ReqObj.UserDetail.fn||("IN"===currentISO()?!ReqObj.UserDetail.em||!ReqObj.UserDetail.ctid:!ReqObj.UserDetail.mb1)}function ReturnCorrectVal(e,t){return isSet(e)&&""!==e?e:isSet(t)&&""!==t?t:""}function setDetail(e){return ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),e),ReturnCorrectVal(ReqObj.UserDetail[e],""))}function SetUserDetails(){ReqObj.UserDetail.fn=ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"fn"),""),ReqObj.UserDetail.em=ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"em"),""),ReqObj.UserDetail.ctid=ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"ctid"),""),ReqObj.UserDetail.mb1=ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"mb1"),""),ReqObj.UserDetail.uv=ReturnCorrectVal(usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"uv"),"")}function currentISO(){var e=usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"iso"),t=usercookie.getParameterValue(usercookie.getCookie("iploc"),"gcniso");return""!==e?e:""!==ReqObj.changeUserIso?ReqObj.changeUserIso:""!==t?t:"IN"}function ConstructorName(e){if(e.constructor.name)return e.constructor.name;if(isSet(e.className)&&""!==e.className)return e.className;var t=new RegExp(/s*function\s*(.*?)\s*\{/),r=e.constructor.toString().match(t)[1],o=r.indexOf("(");return-1!==o?r.substr(0,o):void 0}function FormCloseButtons(e){$(document).off("keydown").on("keydown",function(t){27===t.keyCode&&FormCloseStep(e)}),$("#t"+e+"_cls").off("click").on("click",function(){FormCloseStep(e)})}function FormCloseStep(e){var t="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads",r=ReqObj.Form[e].FormSequence||{},o=$("#t"+e+"_thankDiv").hasClass("bedsnone");r.OnCloseCounter>-1&&r.CleanUiForOnClose(e);var i="CloseStep:";if(ReqObj.Form[e].generationCalled&&o)if(isSet(ReqObj.Form[e].OnCloseStep)&&!ReqObj.Form[e].OnCloseStep){i+=r.StepCounter+1+":";for(a=0;a<ReqObj.Form[e].UiArray[r.StepCounter].length;a++)a<ReqObj.Form[e].UiArray[r.StepCounter].length&&a>0&&(i+="-"),i+=ConstructorName(ReqObj.Form[e].UiArray[r.StepCounter][a].Obj);blenqGATracking(t,i,getEventLabel(),0,e),ReqObj.Form[e].FormSequence.OnCloseSeq(e)}else{if(i+=r.StepCounter+1+(r.OnCloseCounter+1)+":",isSet(ReqObj.Form[e].OnCloseArray)&&isSet(ReqObj.Form[e].OnCloseArray[r.OnCloseCounter]))for(a=0;a<ReqObj.Form[e].OnCloseArray[r.OnCloseCounter].length;a++)a<ReqObj.Form[e].OnCloseArray[r.OnCloseCounter].length&&a>0&&(i+="-"),i+=ConstructorName(ReqObj.Form[e].OnCloseArray[r.OnCloseCounter][a].Obj);blenqGATracking(t,i,getEventLabel(),0,e),ReqObj.Form[e].FormSequence.OnClosegetStep(e)}else if(ReqObj.Form[e].generationCalled){if(!o)if(r.OnCloseCounter>-1){if(i+=r.StepCounter+1+(r.OnCloseCounter+1)+":",isSet(ReqObj.Form[e].OnCloseArray)&&isSet(ReqObj.Form[e].OnCloseArray[r.OnCloseCounter]))for(var a=0;a<ReqObj.Form[e].OnCloseArray[r.OnCloseCounter].length;a++)a<ReqObj.Form[e].OnCloseArray[r.OnCloseCounter].length&&a>0&&(i+="-"),i+=ConstructorName(ReqObj.Form[e].OnCloseArray[r.OnCloseCounter][a].Obj);blenqGATracking(t,i,getEventLabel(),0,e),CloseForm(e)}else i+=r.StepCounter+1+1+":ThankYou",CloseForm(e)}else if(r.StepCounter>-1){i+=r.StepCounter+1+":";for(var a=0;a<ReqObj.Form[e].UiArray[r.StepCounter].length;a++)a<ReqObj.Form[e].UiArray[r.StepCounter].length&&a>0&&(i+="-"),i+=ConstructorName(ReqObj.Form[e].UiArray[r.StepCounter][a].Obj);blenqGATracking(t,i,getEventLabel(),0,e),CloseForm(e)}else CloseForm(e)}function trimVal(e){var t="";return isSet(e)&&(t=e.trim()),t}function stopBgScroll(){$("html").css("overflow","hidden")}function resumeBgScroll(){$("html").css("overflow","auto")}Validation.prototype.isMobileValid=function(e){if("IN"===this.usercountry){this.result={type:!0,error:""};e=isSet(e)?e.trim():"";this.result.error=0===e.length?"Please Enter Mobile Number":e.match(/^[2,3,4,5]/)?"Mobile Number should start with 6,7,8,9":e.length<10?"Please Enter valid Mobile number":e.length>10?"Mobile number should contain 10 digits":"",this.result.type=""===this.result.error}return this.result},Validation.prototype.isMobileFValid=function(e){this.result={type:!0,error:""};e=isSet(e)?e.trim():"";return this.result.error=0===e.length?"Please Enter Mobile Number":"",this.result.type=""===this.result.error,this.result},Validation.prototype.isEmailValid=function(e){this.result={type:!0,error:""};e=isSet(e)?e:"";return this.result.error=""===e.trim()?"":/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,30})+$/.test(e)?"":"Please Enter Valid Email ID",this.result.type=""===this.result.error,this.result},Validation.prototype.isEmailFilled=function(e){this.result={type:!0,error:""};e=isSet(e)?e:"";return this.result.error=""===e.trim()?"Please Enter you Email ID":/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,30})+$/.test(e)?"":"Please Enter Valid Email ID",this.result.type=""===this.result.error,this.result},Validation.prototype.isTitleValid=function(e){this.result={type:!0,error:""};e=isSet(e)?e:"";return this.result.error=0===e.trim().length?"Please Enter Product/Service Name":"",this.result.type=""===this.result.error,this.result},Validation.prototype.isDescriptionFilled=function(e){this.result={type:!0,error:""};e=isSet(e)?e.trim():"";return this.result.error=0===e.length?"Please enter your requirement in Detail":"",this.result.type=""===this.result.error,this.result},Validation.prototype.isNameValid=function(e){this.result={type:!0,error:""};e=isSet(e)?e:"";return this.result.error=0===e.trim().length?"Please Enter Your Name":"",this.result.type=""===this.result.error,this.result},Validation.prototype.isCityValid=function(e){return this.result={type:!0,error:""},this.result.error=0===e.trim().length?"Please Enter Your City":"",this.result.type=""===this.result.error,this.result},Validation.prototype.isQtyUnitValid=function(){return this.result={type:!0,error:""},this.result},Validation.prototype.isNumberKey=function(e){if(isSet(e)){var t=e.which;return 118===t&&!0===e.ctrlKey||!(t>31&&(t<48||t>57))}},Validation.prototype.isProductNameValid=function(e){this.result={type:!0,error:""};e=isSet(e)?e.trim():"";return this.result.error=0===e.length?"Enter product/service name":"",this.result.type=""===this.result.error,this.result},LoginFlag.prototype.returnLoginFlag=function(e){return"glusrupdate"===e&&""!==e?2:"verifyusr"===e&&""!==e?5:"login"===e&&""!==e?1:"blurlogin"===e&&""!==e?3:void 0},LoginMode.prototype.getLoginMode=function(){var e=usercookie.getCookie("v4iilex"),t=usercookie.getCookie("imEqGl"),r=usercookie.getCookie("ImeshVisitor");return""===r&&""!==e&&(usercookie.deleteCookie("v4iilex"),e=""),""===r&&""!==t&&usercookie.deleteCookie("imEqGl"),isSet(e)&&""!==e?1:isSet(r)&&""!==r?2:3},FlagSuggestor.prototype.setFlagSuggestor=function(e){var t=this;if(addTemplates(e),(void 0===t.flaghit[e]||!1===t.suggdefined[e]||!1===t.suggdefined[e]&&!0===t.flaghit[e])&&(t.flaghit[e]=!1),""===usercookie.getCookie("ImeshVisitor")&&!1===t.flaghit[e]){t.flaghit[e]=!0,t.tmpId=e;var r="sugg_isd_"+e,o=usercookie.getCookie("iploc"),i=usercookie.getParameterValue(o,"gcniso");""===ReqObj.changeUserIso&&(ReqObj.changeUserIso=i);var a=ReqObj.changeUserIso;if("undefined"==typeof Suggester)t.suggdefined[e]=!1,setTimeout(function(){t.setFlagSuggestor(e)},50);else if("object"!=typeof r){t.suggdefined[e]=!0;var s=setInterval(function(){"undefined"!=typeof Suggester&&(a=""!==a?a:usercookie.getParameterValue("ImeshVisitor","iso"),window[r]=new Suggester({type:"isd",element:"t"+e+"_Country_dropdown",onSelect:setCountryISO,fields:"cname,iso,icon_order",displayFields:"cname,value",displaySeparator:"  +",defaultValue:""!==a?a:"IN",autocompleteClass:"be-sugg"}),JSON.stringify(r)&&(isSet(ReqObj.Form[e].flags)&&(ReqObj.Form[e].flags.isFlagSuggSet=!0),clearInterval(s)))},1e3)}}},FlagSuggestor.prototype.setCountry=function(e,t){for(var r=!1,o=ReqObj.changeUserIso,i=template_array.length,a=0;a<i;a++){ReqObj.Form[template_array[a]].flags.isFlagSuggSet&&(r=!0),this.selectCountryISO(template_array[a],t);var s=!1;r&&("IN"===t.data.iso?""===o&&"IN"===o||(s=!0):""!==o&&"IN"!==o||(s=!0),s&&-1===$.inArray(template_array[a].substring(0,2),BlPopup)&&InlineForm(ReqObj.Form[template_array[a]],"INLINE"))}},FlagSuggestor.prototype.selectCountryISO=function(e,t){$("#t"+e+"_Country_dropdown dt a span").attr("style","background-position:0px -"+11*t.data.icon_order+"px"),ReqObj.TempNumber="",ReqObj.changeUserIso=t.data.iso,ReqObj.isoFlag="+"===t.value.substring(0,1)?t.value:"+"+t.value,this.countryiso[e]=ReqObj.changeUserIso,t.value&&("India"===t.data.cname?($("#t"+e+"_iso").attr("value",ReqObj.isoFlag),$("#t"+e+"_label-l").html("Mobile Number"),$("#t"+e+"_login_field").attr("placeholder","Enter your mobile"),$("#t"+e+"_login_field").val(""),$("#t"+e+"_iso").show(),$("#t"+e+"_tCond").addClass("bedsnone"),$("#t"+e+"_submit").removeAttr("disabled"),$("#t"+e+"_submit").attr("style","background-color : rgb(0, 166, 153)"),$("#t"+e+"_submitdiv").attr("class","befstgo"),$("#t"+e+"_login_field").on("keypress",validation.isNumberKey),$("#t"+e+"_msg_primary_info_err_login").addClass("bedsnone"),$("#t"+e+"_login_field").removeClass("highlight-err"),ReqObj.Form[e].isTNCShownOnFirstStep=!1,$("#t"+e+"_login_field").removeClass("beemail")):(isEuroCountry(t.data.iso)?($("#t"+e+"_tCond").removeClass("bedsnone"),$("#t"+e+"_submit").attr("disabled","disabled"),$("#t"+e+"_submit").attr("style","background-color : rgb(178, 178, 178)"),$("#t"+e+"_submitdiv").attr("class","befstgo1"),ReqObj.Form[e].isTNCShownOnFirstStep=!0):($("#t"+e+"_tCond").addClass("bedsnone"),$("#t"+e+"_submit").removeAttr("disabled"),$("#t"+e+"_submit").attr("style","background-color : rgb(0, 166, 153)"),$("#t"+e+"_submitdiv").attr("class","befstgo1"),ReqObj.Form[e].isTNCShownOnFirstStep=!1),$("#t"+e+"_label-l").html("Email ID"),$("#t"+e+"_login_field").attr("placeholder","Enter your email"),$("#t"+e+"_login_field").val(""),$("#t"+e+"_login_field").off("keypress"),$("#t"+e+"_iso").hide(),$("#t"+e+"_msg_primary_info_err_login").addClass("bedsnone"),$("#t"+e+"_login_field").removeClass("highlight-err"),$("#t"+e+"_login_field").addClass("beemail")),"09"===e.substring(0,2)&&$("#t"+e+"_bewrapper").length>0&&"table"==$("#t"+e+"_bewrapper").css("display")&&OpenForm(ReqObj.Form[e]))},SetUserDetails();var flagsugg=new FlagSuggestor;function termNcdata(e){var t="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads",r=usercookie.getCookie("iploc"),o=currentISO(),i={};i.s_glusrid=usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"glid"),i.modid=ReqObj.Form[e].modId,i.s_user_agent=navigator.userAgent,i.s_ip=usercookie.getParameterValue(r,"gip"),i.s_ip_country=usercookie.getParameterValue(r,"gcnnm"),isEuroCountry(o)&&(i.s_ip_country_iso=o),isSet(i.s_ip_country_iso)&&""!==i.s_ip_country_iso&&$.ajax({cache:!1,url:appsServerName+"index.php?r=Newreqform/TermNCondition",type:"GET",crossOrigin:!0,crossDomain:!0,dataType:"json",data:i,success:function(r){isSet(r)&&isSet(r.RESPONSE)&&200===parseInt(r.RESPONSE.Code)||blenqGATracking(t,"service:TermNCondition:failure",r,1,e)},error:function(r){r=isSet(r)?r:"response undefined",blenqGATracking(t,"service:TermNCondition:failure",r,1,e)}})}function ValidGenerationId(e){return!!(isSet(e)&&parseInt(e)&&parseInt(e)>1)}function isObjectEmpty(e){return!!isSet(e)&&0===Object.getOwnPropertyNames(e).length}function SetKeyInLocalStorage(e,t){CheckLocalStorage()&&isSet(e)&&""!==e&&isSet(t)&&""!==t&&localStorage.setItem(e,t)}function GetFromLocalStorage(e){return CheckLocalStorage()&&isSet(e)&&""!==e?localStorage.getItem(e):null}function StaticMessage(){var e="Get verified supplier details instantly on your ";return"IN"===currentISO()?e+="mobile":e+="email",e}function InitiateTemplate(e,t,r){var o=e+t;addTemplates(o),ReqObj.Form[o].UiArray=[],ReqObj.Form[o].ServiceSequence=[],ReqObj.Form[o].HitArray=[],ReqObj.Form[o].OnCloseArray=[],setTemplateDefaultValue(e,t,r),$("#t"+o+"_belodr").removeClass("bedsnone")}function setTemplateDefaultValue(e,t,r){var o=e+t;ReqObj.Form[o].mcatName=ReturnCorrectVal(r.mcatName,""),ReqObj.Form[o].mcatId=ReturnCorrectVal(r.mcatId,"-1"),ReqObj.Form[o].catId=ReturnCorrectVal(r.catId,"-1"),ReqObj.Form[o].modId=ReturnCorrectVal(r.modId,"DIR"),"bl"===ReqObj.Form[o].formType.toLowerCase()&&(ReqObj.Form[o].afflId=ReturnCorrectVal(r.afflId,0)),ReqObj.Form[o].IsqArray="",ReqObj.Form[o].prevCount=0,ReqObj.Form[o].stopper=0,ReqObj.Form[o].IsqLength=0,ReqObj.Form[o].IsqDiv=0,ReqObj.Form[o].isqScreen=0,ReqObj.Form[o].isqSubmitted=0,ReqObj.Form[o].questionCount=0,ReqObj.Form[o].questionsId=[],ReqObj.Form[o].questionsDesc=[],ReqObj.Form[o].optionsId=[],ReqObj.Form[o].optionsValue=[],ReqObj.Form[o].Isq={},ReqObj.Form[o].cityOth="",ReqObj.Form[o].generationCalled=!1,ReqObj.Form[o].insert=ReturnCorrectVal(r.insert,"I"),ReqObj.Form[o].Static={questionsId:[],questionsDesc:[],optionsId:[],optionsValue:[]},ReqObj.userType="",ReqObj.Form[o].customHeadline=ReturnCorrectVal(r.customHeadline,""),ReqObj.Form[o].isGaSet=!1,MakeRefText(o),ReqObj.Form[o].selectPrdTitle=function(e,t){selectTitle(o,t)},isSet(ReqObj.Form[o].flags)&&!ReqObj.Form[o].flags.isFlagSuggSet&&flagsugg.setFlagSuggestor(o)}function initializeForm(e){for(var t=!1,r=!1,o=0;o<e.length;o++)isSet(e[o])&&""!==e[o]&&(-1!==$.inArray(e[o].tempId,BlPopup)&&-1!==$.inArray(e[o].tempId,EnqPopup)||(InlineForm(e[o],"Inline"),(isSet(e[o].displayImage)&&""!==e[o].displayImage||isSet(e[o].zoomImage)&&""!==e[o].zoomImage||!t&&"bl"===e[o].formType.toLowerCase())&&(t=!0,getMcatImage(e[o].tempId+e[o].instId,{hasCallback:!1})),r||(r=!0,new IpLoc(e[o].tempId+e[o].instId))))}function IpLoc(e){var t=usercookie.getCookie("iploc");""!==t&&(""===t||""!==usercookie.getParameterValue(t,"gip"))||navigator.userAgent.match(/googlebot|mediapartners/)||this.getIp(e)}function errorBlockFunction(e){return!isSet(e)||$.isEmptyObject(e)?"":"<div  class='be-erbx isq_error_block "+e.error_block_class+"'><div data-role='content'>"+e.msg+"</div><a class='be-erarw "+e.anchor_class+"'  data-role='arrow'></a></div>"}function TextBoxHTML(e){return"<div class='"+e.divClass+"'><label class='be-lbl' id = "+e.labelId+" quesid = '"+e.quesId+"' >"+e.QuestionDesc+"</label><input type='text' class='"+e.inputClass+"' id='"+e.inputId+"' name='"+e.inputName+"' optionid = '"+e.optionId+"' maxlength='1000' autocomplete='off' value='"+e.ans+"' role='textbox'/>"}function SelectBox(e){var t="<div class='"+e.divClass+"'><label class='be-lbl' id='"+e.labelId+"' quesid ='"+e.questionId+"' >"+e.labelText+"</label><select class='"+e.selectClass+"'";return void 0!==e.onchange&&e.onchange&&(t+=" onchange = 'funcOth(id)'"),t+=" name='"+e.selectName+"' id='"+e.selectId+"'><option value=''>"+e.optionValue+"</option>"}function OthersBox(e){return"<div class='"+e.divClass+"'><input type='text' class='be-input isq_txtbx isq-st2' name='"+e.inputName+"' id='"+e.inputId+"' placeholder='Other Option' value='"+e.ans+"'><label for='"+e.inputId+"' optionid = "+e.optionId+"></label></div>"}function FullDescHtml(e){return"<div class='"+e.div1Class+"'><div class='"+e.div2Class+"'></div><div class='"+e.div3Class+"'>"+e.fullDesc+"</div></div>"}function CheckBox(e,t){return"<div class='"+e.divClass1+"'>"+errorBlockFunction(t)+"<input type='checkbox' class='bevT bedblk' name='"+e.templateId+"checkbox_name"+e.questionCount+"' id='"+e.templateId+"checkbox_name"+e.questionCount+"_option"+parseInt(e.i+1)+"' value='"+e.option_desc+"'"+e.checked+"><label optionid="+e.option_id+"  for='"+e.templateId+"checkbox_name"+e.questionCount+"_option"+parseInt(e.i+1)+"' class='bepr CheckboxClick'><div class='bechk-in bebr4'><div class='"+e.divClass2+"'></div></div><span class='"+e.spanClass+"' >"+e.option_desc+"</span></label></div>"}function RadioBox(e,t){return RadioDiv="<div class='"+e.divClass1+"'>"+errorBlockFunction(t)+"<input type='radio' class='"+e.inputClass+"' name='"+e.templateId+"radio_name"+e.questionCount+"' id='"+e.templateId+"_radio_name"+e.questionCount+"_option"+parseInt(e.i+1)+"' value='"+e.option_desc+"'"+e.checked+"><label optionid="+e.option_id+" for='"+e.templateId+"_radio_name"+e.questionCount+"_option"+parseInt(e.i+1)+"' class='bepr'",isSet(e.cityFunc)&&(RadioDiv+=e.cityFunc),RadioDiv+="><div class='bechk-in'><div class='"+e.divClass2+"'></div></div><span class='"+e.spanClass+"' id='"+e.templateId+"_rad_chk"+e.questionCount+"_option"+parseInt(e.i+1)+"' >"+e.option_desc+"</span></label></div>",RadioDiv}function Isq(e){if(this.templateId="t"+e,this.className="Isq",ReqObj.Form[e].preFilledIsq={},isSet(ReqObj.Form[e].plsqArr)&&""!==ReqObj.Form[e].plsqArr)for(var t=ReqObj.Form[e].plsqArr.split("&"),r=0;r!==t.length;r++){var o=t[r].split(":");if(isSet(ReqObj.Form[e].generationId)&&parseInt(ReqObj.Form[e].generationId)>1)ReqObj.Form[e].preFilledIsq[unescape(o[0])]=unescape(o[1]),isSet(ReqObj.Form[e].preFilledIsq[unescape(o[0])])&&(ReqObj.Form[e].preFilledIsq[unescape(o[0])]=ReqObj.Form[e].preFilledIsq[unescape(o[0])].split(", "));else{var i=unescape(o[1]);isSet(i)&&1===(i=i.split(", ")).length&&(ReqObj.Form[e].preFilledIsq[unescape(o[0])]=i)}}}function UserType(){return!isSet(ReqObj.changeUserIso)||"IN"!==ReqObj.changeUserIso&&""!==ReqObj.changeUserIso?"FR":"IN"}function GetIsqFromObj(e){UserType();-1!==parseInt(ReqObj.Form[e].mcatId)&&""!==ReqObj.Form[e].mcatId?ReqObj.Form[e].mcatId in savedMcatIsq&&(ReqObj.Form[e].IsqArray=savedMcatIsq[ReqObj.Form[e].mcatId]):ReqObj.Form[e].catId in savedCatIsq&&(ReqObj.Form[e].IsqArray=savedCatIsq[ReqObj.Form[e].catId]),ReqObj.Form[e].IsqLength=isSet(ReqObj.Form[e].IsqArray)?ReqObj.Form[e].IsqArray.length:0}function GetIsq(e){var t="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads";if(GetIsqFromObj(e),""===ReqObj.Form[e].IsqArray||null===ReqObj.Form[e].IsqArray){if(-1!==parseInt(ReqObj.Form[e].mcatId)&&""!==ReqObj.Form[e].mcatId)var r=ReqObj.Form[e].mcatId,o=3;else if(-1!==parseInt(ReqObj.Form[e].catId))r=ReqObj.Form[e].catId,o=2;UserType(),currentISO();isSet(r)&&-1!==parseInt(r)?$.ajax({cache:!0,url:appsServerName+"index.php?r=postblenq/getISQ",type:"GET",crossOrigin:!0,crossDomain:!0,data:{modid:ReqObj.Form[e].modId,mcatid:r,cat_type:o,flag:1,isq_format:1,generic_flag:1},dataType:"json",success:function(t){if(isSet(t)&&isSet(t.DATA)&&("string"!=typeof t.DATA||"null"!==t.DATA.toLowerCase()))if(t.DATA.length>0){ReqObj.Form[e].IsqArray=t.DATA,ReqObj.Form[e].IsqLength=ReqObj.Form[e].IsqArray.length;var r=[],o="";-1!==parseInt(ReqObj.Form[e].mcatId)&&""!==ReqObj.Form[e].mcatId?(r=savedMcatIsq,o=ReqObj.Form[e].mcatId):(r=savedCatIsq,o=ReqObj.Form[e].catId),r[o]=ReqObj.Form[e].IsqArray}else ReqObj.Form[e].IsqArray=null,ReqObj.Form[e].IsqLength=0,-1!==parseInt(ReqObj.Form[e].mcatId)&&""!==ReqObj.Form[e].mcatId?savedMcatIsq[ReqObj.Form[e].mcatId]=null:savedCatIsq[ReqObj.Form[e].catId]=null;else ReqObj.Form[e].IsqArray=null,ReqObj.Form[e].IsqLength=0},error:function(r){ReqObj.Form[e].IsqArray=null,ReqObj.Form[e].IsqLength=0,r=isSet(r)?r:"response undefined",blenqGATracking(t,"Get ISQ",r,1,e)},complete:function(){isSet(ReqObj.Form[e].Isq)&&ReqObj.Form[e].Isq.HasHtmlCalled&&ReqObj.Form[e].GlobalIsqObject.AttachingObject(ReqObj.Form[e].GlobalIsqObject.IsqObject)}}):isSet(r)&&-1===parseInt(r)?(ReqObj.Form[e].IsqArray=null,ReqObj.Form[e].IsqLength=0,delete HitMcatIsq[ReqObj.Form[e].mcatId],ReqObj.Form[e].Isq.HasHtmlCalled&&ReqObj.Form[e].GlobalIsqObject.AttachingObject(ReqObj.Form[e].GlobalIsqObject.IsqObject)):(ReqObj.Form[e].IsqArray=null,ReqObj.Form[e].IsqLength=0,removeLoader(e))}}function FillIsq(e,t){if(ReqObj.Form[t].preFilledIsq.hasOwnProperty(e)){var r=ReqObj.Form[t].preFilledIsq[e];return delete ReqObj.Form[t].preFilledIsq[e],r}return null}function SaveIsq(e,t){if("isq"===t.toLowerCase())var r=ReqObj.Form[e].questionsId,o=ReqObj.Form[e].questionsDesc,i=ReqObj.Form[e].optionsId,a=ReqObj.Form[e].optionsValue;else if("static"===t.toLowerCase())r=ReqObj.Form[e].Static.questionsId,o=ReqObj.Form[e].Static.questionsDesc,i=ReqObj.Form[e].Static.optionsId,a=ReqObj.Form[e].Static.optionsValue;for(var s=0;s<ReqObj.Form[e].Isq.CurrentPageQuestions.length;s++)for(var n=0;n<ReqObj.Form[e].Isq.CurrentPageQuestions[s].length;n++){if("TEXTBOX"===ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].type)(d=$(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].optionSelector).val())&&(r.push(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionId),o.push(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionText),i.push($(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].optionSelector).attr("optionid")),a.push(d));else if("SELECT"===ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].type){var l="",c=$(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].optionSelector+" option:selected").attr("optionid");l=-99===parseInt(c)?$(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].others[0]).val():$(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].optionSelector).val(),"IN"===currentISO()&&"Currency"==ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionText?o.length>0&&"Approximate Order Value"==o[o.length-1]&&l&&(r.push(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionId),o.push(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionText),i.push(c),a.push(l)):l&&(r.push(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionId),o.push(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionText),i.push(c),a.push(l))}else if("CHECKBOX"===ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].type){$(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].optionSelector).val()&&$.each($(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].optionSelector+":checked"),function(){r.push(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionId),o.push(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionText),i.push($(this).siblings("label").attr("optionid")),a.push($(this).val())});for(var m=0;m<ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].others.length;m++){(d=$(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].others[m]).val())&&(r.push(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionId),o.push(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionText),i.push($(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].others[m]).siblings("label").attr("optionid")),a.push(d))}}else if("RADIO"===ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].type){var d;(d=$(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].optionSelector+":checked").val())&&(r.push(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionId),o.push(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionText),i.push($(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].optionSelector+":checked").siblings("label").attr("optionid")),a.push(d));for(m=0;m<ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].others.length;m++)(d=$(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].others[m]).val())&&(r.push(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionId),o.push(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].questionText),i.push($(ReqObj.Form[e].Isq.CurrentPageQuestions[s][n].others[m]).siblings("label").attr("optionid")),a.push(d))}}ReqObj.Form[e].Isq.CurrentPageQuestions=[]}function funcOth(e){"Other"==$("#"+e+" option:selected").val()?($("#other_"+e+"_1").css("display","block"),$("#other_"+e+"_1").focus()):$("#other_"+e+"_1").css("display","none")}function RadioClick(){$(".radioClick").off("click").on("click",function(e){var t=this,r=$(t).parent().parent().parent().attr("id"),o=$(t).hasClass("waschecked");$("#"+r).find(".radioClick").each(function(){"block"===$(this).parent().parent().parent().css("display")&&($(this).prop("checked",!1).removeClass("waschecked"),$(this).parent().removeClass("sl-box chksl"),$(this).siblings("label").children(".bechk-in").children().hide())}),o||($(t).prop("checked",!0).addClass("waschecked"),$(t).parent().siblings(".oth_bx").children("input").val(""),$(t).parent().addClass("sl-box chksl"),$(t).siblings("label").children(".bechk-in").children().show())})}function CheckBoxClick(){$(".CheckboxClick").off("click").on("click",function(){var e=$(this);e.siblings("input").prop("checked")?(e.children(".bechk-in").children().hide(),e.parent().removeClass("chksl")):(e.children(".bechk-in").children().show(),e.parent().addClass("chksl"))})}function radCheck(e){var t=$(e).children("span").attr("id"),r=t.slice(0,5),o=r+"_enrich_city",a="";if("Anywhere in India"!=$("#"+t).html()&&"Local Only"!=$("#"+t).html()&&"Specific City"!=$("#"+t).text()||$("#spcity").html(""),"Specific City"==$("#"+t).text()){for(i=1;i<4;i++)cityId="",cityId=o+i,a+="<div class='bepr beW15 belft text_bx'><label class='be-lbl'>City "+i+"</label><input type='text' id="+cityId+" name="+cityId+" autocomplete='off'  class='be-slbox' onblur='chckval("+cityId+",this.value);'><input type='hidden' id='"+cityId+"specificcity_hidden'></div>";$("#spcity").length>0||$("#"+t).parent().parent().parent().append("<div id='spcity' class='be-row bemt5' style='height:54px;'></div>"),$("#spcity").html(a)}if("Local Only"==$("#"+t).text()||"Anywhere in India"==$("#"+t).text())$("#spcity").remove();else if("Specific City"==$("#"+t).text()){$("#"+t).parent().siblings("input").hasClass("waschecked")&&$("#spcity").remove()}enrichCityMultiple(r)}function enrichCityMultiple(e){for(var t=1;t<=3;t++)null!=document.getElementById(e+"_enrich_city"+t)&&(window[e+"city_sugg_"+t]=new Suggester({element:e+"_enrich_city"+t,onSelect:selecttext_city_enrich,type:"city",fields:"std,state,id,stateid",placeholder:"",minStringLengthToDisplaySuggestion:1,autocompleteClass:"bl-sugg",displayFields:"value,state",displaySeparator:" >> ",filters:"iso:IN",recentData:!1}))}function selecttext_city_enrich(e,t){this.value=t.item.value,$("#"+this.id+"specificcity_hidden").val(t.item.value)}function chckval(e,t){}function blkerr(e){}function PostBlEnqUpdate(){this.className="PostBlEnqUpdate"}loadOverlay(),IpLoc.prototype.getIp=function(e){var t=this,r="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads",o=location.hostname.match(/^dev/)?"//stg-geoip.imimg.com/":location.hostname.match(/^stg/)?"//stg-geoip.imimg.com/":"//geoip.imimg.com/";$.ajax({cache:!1,url:o+"api/location.php",data:{modid:glmodid,token:"imobile@15061981"},type:"GET",dataType:"json",success:function(o){if(isSet(o)&&isSet(o.Response))if(200===parseInt(o.Response.Code)&&"Success"===o.Response.Status){var i=o.Response.Data;isSet(i)&&(i.geoip_cityname=isSet(i.geoip_cityname)?i.geoip_cityname:"",i.geoip_cityid=isSet(i.geoip_cityid)?i.geoip_cityid:"",i.geoip_countryiso=isSet(i.geoip_countryiso)?i.geoip_countryiso:"",i.geoip_countryname=isSet(i.geoip_countryname)?i.geoip_countryname:"",i.geoip_accuracy=isSet(i.geoip_accuracy)?i.geoip_accuracy:"",i.geoip_ipaddress=isSet(i.geoip_ipaddress)?i.geoip_ipaddress:"",i.geoip_statename=isSet(i.geoip_statename)?i.geoip_statename:"",t.setIpLoc(i,e))}else blenqGATracking(r,"service:location:failure",o.Response,1,e);else blenqGATracking(r,"service:location:failure","response undefined",1,e)},error:function(t){t=isSet(t)?t:"response undefined",blenqGATracking(r,"service:location:failure",JSON.stringify(t),1,e)}})},IpLoc.prototype.setIpLoc=function(e,t){var r="gcniso="+e.geoip_countryiso+"|gcnnm="+e.geoip_countryname+"|gctnm="+e.geoip_cityname+"|gctid="+e.geoip_cityid+"|gacrcy="+e.geoip_accuracy+"|gip="+e.geoip_ipaddress+"|gstnm="+e.geoip_statename;usercookie.setCookie("iploc",r,.125,t);for(var o=template_array.length,i=0;i<o;i++)isSet(ReqObj.Form[template_array[i]].flags)&&(ReqObj.Form[template_array[i]].flags.isFlagSuggSet=!1),flagsugg.setFlagSuggestor(template_array[i])},Isq.prototype.hasHtml=function(e){ReqObj.Form[e.tmpId].Isq.HasHtmlCalled=!0,GetIsqFromObj(e.tmpId),""===ReqObj.Form[e.tmpId].IsqArray?ReqObj.Form[e.tmpId].GlobalIsqObject.IsqObject=e:ReqObj.Form[e.tmpId].GlobalIsqObject.AttachingObject(e)},Isq.prototype.defaultEvents=function(e){$("select.betextclr").off("change click").on("change click",function(){""===$(this).val()?$(this).css("color","#9e9e9e"):$(this).css("color","#333").removeClass("highlight-err").siblings("label").removeClass("redc").siblings(".isq_error_block").remove()}),$(".inpt_errorbx").off("click keydown").on("click keydown",function(){$(this).removeClass("highlight-err").siblings("label").removeClass("redc").siblings(".isq_error_block").remove().siblings("select.betextclr").removeClass("highlight-err")}),CheckBoxClick(),$(document).on("hover",".info_icon",function(){$(this).children(".full_desc").removeClass("bedsnone")}),$(document).on("mouseout",".info_icon",function(){$(this).children(".full_desc").addClass("bedsnone")}),RadioClick(),$(".other_radio").off("click").on("click",function(e){$(this).hasClass("be-radiobox")&&$(".be-radiobox").each(function(){"block"===$(this).parent().css("display")&&$(this).children("input").prop("checked",!1).children("input").removeClass("waschecked").removeClass("sl-box chksl").children().children(".bechk-in").children().hide()})})},Isq.prototype.AttachingObject=function(e){if(null!==ReqObj.Form[e.tmpId].IsqArray&&ReqObj.Form[e.tmpId].prevCount!==ReqObj.Form[e.tmpId].IsqLength){e.that.NumberofClassCalled-=1,AttachObject(e.object,e.tmpId);for(var t=0;t<e.AfterService.length;t++)e.that.MakeSeq(e.AfterService[t],e.tmpId);0===e.that.NumberofClassCalled&&makeFinalSeq(e,e.tmpId)}else e.hasFallback?isSet(e.Thankyou)&&e.Thankyou?ReqObj.Form[e.tmpId].FormSequence.OnCloseSeq(e.tmpId):CreateSeq(e.FallbackObj):void 0!==e.nextStep&&e.nextStep.apply(ReqObj.Form[e.tmpId].FormSequence)},Isq.prototype.displayHtml=function(e){return null===ReqObj.Form[e].IsqArray?null:0===ReqObj.Form[e].prevCount?this.makeIsq(ReqObj.Form[e].IsqStep1,e):this.makeIsq(ReqObj.Form[e].IsqStepN,e)},Isq.prototype.makeIsq=function(e,t){return ReqObj.Form[t].stopper=Math.min(e,ReqObj.Form[t].IsqLength-ReqObj.Form[t].prevCount)+ReqObj.Form[t].prevCount,this.TraverseIsq(t)},Isq.prototype.TraverseIsq=function(e){var t="";ReqObj.Form[e].Isq.CurrentPageQuestions=[];for(var r=ReqObj.Form[e].prevCount;r<ReqObj.Form[e].stopper;r++)ReqObj.Form[e].Isq.Question=[],++ReqObj.Form[e].IsqDiv,t+="<div id=t"+e+"isq_div"+ReqObj.Form[e].IsqDiv+" class='be-row'>",t+=this.FindIsqObject(ReqObj.Form[e].IsqArray[r],e,0),t+="</div>",ReqObj.Form[e].Isq.CurrentPageQuestions.push(ReqObj.Form[e].Isq.Question);return ReqObj.Form[e].prevCount=ReqObj.Form[e].stopper,t},Isq.prototype.FindIsqObject=function(e,t,r){if(e instanceof Array){for(var o="",i=e.length,a=0;a<i;a++)i>1&&r++,o+=this.FindIsqObject(e[a],t,r);return o}if("MDC"!==ReqObj.Form[t].modId||"Brand"!==e.IM_SPEC_MASTER_DESC){var s=convertHtml(e,t,r);return ReqObj.Form[t].previousFullDesc=e.IM_SPEC_MASTER_FULL_DESC,s}this.stopper++},Isq.prototype.SaveDetails=function(e){SaveIsq(e,"isq")},Isq.prototype.onSubmit=function(e){var t="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads",r=PreAjax("Isq",e),o={modid:ReqObj.Form[e].modId,ofr_id:ReqObj.Form[e].generationId,b_response:ReqObj.Form[e].optionsValue,q_desc:ReqObj.Form[e].questionsDesc,UPDIP:"India",UPDURL:window.document.URL.toString().substr(0,450),UPDIP_COUNTRY:"India",UPDATESCREEN:"DESKTOP ENQUIRY FORM",glusr_id:usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"glid"),q_id:ReqObj.Form[e].questionsId,b_id:ReqObj.Form[e].optionsId};"-1"===ReqObj.Form[e].mcatId||""===ReqObj.Form[e].mcatId?o.mcat_id=ReqObj.Form[e].catId:o.mcat_id=ReqObj.Form[e].mcatId,o.glusr_email="","Enq"===ReqObj.Form[e].formType&&(o.enq=1,o.funcToCall="Enq"),ReqObj.Form[e].optionsValue.length>0?$.ajax({type:"GET",url:appsServerName+"index.php?r=postblenq/saveIsqBlEnq",data:o,dataType:"json",crossDomain:!0,crossOrigin:!0,success:function(o){isSet(o)?200===parseInt(o.CODE)?(blenqGATracking(t,"service:saveIsqBlEnq:success",getEventLabel(),1,e),PostAjax(r,e,[])):(blenqGATracking(t,"service:saveIsqBlEnq:failure",o,1,e),Ajaxfailure(r,e)):(blenqGATracking(t,"service:saveIsqBlEnq:failure","response undefined",1,e),Ajaxfailure(r,e))},error:function(o){o=isSet(o)?JSON.stringify(o):"response undefined",blenqGATracking(t,"service:saveIsqBlEnq:failure",o,1,e),Ajaxfailure(r,e)}}):PostAjax(r,e,[])},Isq.prototype.validate=function(e){for(var t="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads",r=ReqObj.Form[e].FormSequence.StepCounter+1,o=0;o<ReqObj.Form[e].Isq.CurrentPageQuestions.length;o++){for(var i=0,a="",s="",n={},l=0;l<ReqObj.Form[e].Isq.CurrentPageQuestions[o].length;l++){if("TEXTBOX"===ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].type)$(ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].optionSelector).val()||(i++,n={error_block_class:"beerrp3",msg:"Please enter "+ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].questionText,anchor_class:"bearwL2"},a=ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].optionSelector,s="Validation_Error"+ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].questionText);else if("SELECT"===ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].type){var c="",m=$(ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].optionSelector+" option:selected").attr("optionid");if(c=-99===parseInt(m)?$(ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].others[0]).val():$(ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].optionSelector).val(),("IN"!==currentISO()||"Approximate Order Value"!=ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].questionText)&&!c){i++;n={error_block_class:"beerrp2",msg:"Please enter "+ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].questionText,anchor_class:"bearwL1"};a=ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].optionSelector,s="Validation_Error"+ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].questionText}}else"CHECKBOX"===ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].type||ReqObj.Form[e].Isq.CurrentPageQuestions[o][l].type}if(i&&i<ReqObj.Form[e].Isq.CurrentPageQuestions[o].length){var d=$(a);return d.addClass("highlight-err").focus().siblings("label").addClass("redc"),d.siblings(".isq_error_block").length>0||d.after(errorBlockFunction(n)),blenqGATracking(t,s+r+"|IsqValidate",getEventLabel(),0,e),!1}}return!0},FormSeq.prototype.NextStep=function(e){this.NumberofClassCalled=1;var t=this,r={pre:[],post:[]},o={UiArray:[],ServiceArray:[]};if(ShowOtp())$("#t"+e+"_byrinfo").html(get_buyer_info(e)).addClass("bedsnone"),this.NumberofClassCalled=1,$("#t"+e+"_hdg").removeClass("bedsnone"),r={pre:[],post:[this.NextStep]},o={UiArray:[],ServiceArray:[]},CreateSeq({object:{obj:new UserVerification(e),toReplace:!0,objHtmlId:e+"_otpbox",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null});else if($("#t"+e+"_byrinfo").html(get_buyer_info(e)).removeClass("bedsnone"),ReqObj.Form[e].disableIsq)this.OnCloseSeq(e);else if(""===ReqObj.Form[e].IsqArray)if(this.NumberofClassCalled=1,ReqObj.Form[e].flags.isDescDivShown){this.NumberofClassCalled=1,o={UiArray:[],ServiceArray:[]};r={pre:[this.NextStep],post:[]};CreateSeq({object:{obj:ReqObj.Form[e].GlobalIsqObject,objHtmlId:e+"_isqbox",array:o,hooks:r,isService:!1},tmpId:e,that:t,AfterService:[],hasFallback:!0,Thankyou:!0,FallbackObj:null})}else{o={UiArray:[],ServiceArray:[]};var r={pre:[this.NextStep],post:[]},i={object:{obj:new RequirementDtl(e),toReplace:!0,objHtmlId:e+"_reqbox",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};CreateSeq({object:{obj:ReqObj.Form[e].GlobalIsqObject,objHtmlId:e+"_isqbox",array:o,hooks:r,isService:!1},tmpId:e,that:t,AfterService:[],hasFallback:!0,FallbackObj:i})}else if(ReqObj.Form[e].prevCount<ReqObj.Form[e].IsqLength){if(this.NumberofClassCalled=1,o={UiArray:[],ServiceArray:[]},0===ReqObj.Form[e].prevCount)var a=3;else a=2;r=ReqObj.Form[e].prevCount+a<ReqObj.Form[e].IsqLength||!ReqObj.Form[e].flags.isDescDivShown||!ReqObj.Form[e].flags.isEnrichShown?{pre:[this.NextStep],post:[]}:{pre:[this.OnCloseSeq],post:[]},CreateSeq({object:{obj:ReqObj.Form[e].GlobalIsqObject,objHtmlId:e+"_isqbox",array:o,hooks:r,isService:!1},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null})}else{o={UiArray:[],ServiceArray:[]};if(ReqObj.Form[e].flags.isEnrichShown&&ReqObj.Form[e].flags.isDescDivShown)this.OnCloseSeq(e);else{if(this.NumberofClassCalled=1,!ReqObj.Form[e].flags.isDescDivShown){ReqObj.Form[e].flags.isEnrichShown||"bl"!==ReqObj.Form[e].formType.toLowerCase()||(this.NumberofClassCalled=2);r={pre:[this.OnCloseSeq],post:[]};CreateSeq(i={object:{obj:new RequirementDtl(e),toReplace:!0,objHtmlId:e+"_reqbox",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null})}if(!ReqObj.Form[e].flags.isEnrichShown&&"bl"===ReqObj.Form[e].formType.toLowerCase()){r={pre:[this.OnCloseSeq],post:[]};if(!ReqObj.Form[e].flags.isDescDivShown)r={pre:[],post:[]};CreateSeq({object:{obj:new BlStaticQues(e),toReplace:!0,objHtmlId:e+"_isqStatic",isService:!1,array:o,hooks:r},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null})}}}},PostBlEnqUpdate.prototype.onSubmit=function(e){var t=PreAjax("PostBlEnqUpdate",e);this.sendRequest(t,e)},PostBlEnqUpdate.prototype.defaultEvents=function(){},PostBlEnqUpdate.prototype.getData=function(e){var t={},r=usercookie.getCookie("ImeshVisitor"),o=usercookie.getCookie("iploc");t.modId=ReqObj.Form[e].modId,t.s_ip=usercookie.getParameterValue(o,"gip"),t.s_ip_country=usercookie.getParameterValue(o,"gcnnm"),t.s_ip_country_iso=usercookie.getParameterValue(o,"gcniso");var i=usercookie.getParameterValue(r,"fn");if(""===i){var a=$("#t"+e+"_q_first_nm").val();if(a&&-1!==a.indexOf(" "))var s=a.substr(0,a.indexOf(" ")),n=a.substr(a.indexOf(" ")+1);t.s_first_name=""!==s&&void 0!==s?s:a,t.s_last_name=""!==n&&void 0!==n?n:""}else t.s_first_name=i;return i=usercookie.getParameterValue(r,"em"),t.s_email=""===i?$("#t"+e+"_q_email_in").val():i,i=usercookie.getParameterValue(r,"mb1"),t.s_mobile=""===i?$("#t"+e+"_q_mobile_f").val():i,t.s_city_name=$("#t"+e+"_q_city_oth").val(),t.s_glusrid=usercookie.getParameterValue(r,"glid"),t.s_country_name=usercookie.getParameterValue(o,"gcnnm"),t.generationId=ReqObj.Form[e].generationId,t.s_city_id=$("#city_id_sugg").val(),t.flag=ReqObj.Form[e].formType,"Enq"==ReqObj.Form[e].formType&&(t.r_glusrid=ReqObj.Form[e].rcvGlid,t.rfq_queryDestination=ReqObj.Form[e].query_destination),ObjectTrim(t)},PostBlEnqUpdate.prototype.sendRequest=function(e,t){var r="Enq"===ReqObj.Form[t].formType?"Send Enquiry":"Post Buy Leads",o=this.getData(t);$.ajax({cache:!1,url:appsServerName+"index.php?r=Newreqform/BLEnqUpdate",type:"GET",dataType:"json",crossOrigin:!0,crossDomain:!0,data:o,success:function(o){isSet(o)?200==o.CODE?(PostAjax(e,t,[]),blenqGATracking(r,"service:PostBlenqUpdate:success",getEventLabel(),1,t)):(blenqGATracking(r,"service:PostBlenqUpdate:failure",o,1,t),Ajaxfailure(e,t)):(blenqGATracking(r,"service:PostBlenqUpdate:failure","response undefined",1,t),Ajaxfailure(e,t))},error:function(o){o=isSet(o)?JSON.stringify(o):"response undefined",blenqGATracking(r,"service:PostBlenqUpdate:failure",o,1,t),Ajaxfailure(e,t)}})};appsServerName=(webAddressLocation=location.hostname).match(/^dev/)?"//dev-apps.imimg.com/":webAddressLocation.match(/^stg/)?"//stg-apps.imimg.com/":"//apps.imimg.com/";var webAddressLocation,validation=new Validation;function ProductName(e){this.ProductNameHTML="",this.onselect=0,this.tmpId="",ReqObj.Form[e].productObject=this,$("#t"+e+"_prodtitle").html(""),this.className="ProductName"}function Callblur(e){if(13===(e.keyCode?e.keyCode:e.which)&&e.target.id==="t"+e.data.param1+"prodtitle"&&isSet($("#t"+e.data.param1+"prodtitle")[0])){for(var t=$._data($("#t"+e.data.param1+"prodtitle")[0],"events"),r=isSet(t.blur)?t.blur:[],o=0;o<r.length;o++)r[o].handler(r[o]);$("ul.ui-autocomplete").each(function(){$(this).hide()})}}function RequirementDtl(e){this.Rdbox="<div class='be-erbx beerrp6 bedsnone' id='t"+e+"_textarea_error'><div id='t"+e+"_textarear_cont' data-role='content'>Please enter your requirement in Detail</div><a class='be-erarw' data-role='arrow'></a></div><label  id='t"+e+"_textarea' class='be-lbl' > Requirement Details</label > <div class='betarea'><textarea class='be-slbox be-txtarea' id='t"+e+"_reqBoxTemplates' ></textarea ></div > ",$("#t"+e+"_reqbox").html(""),this.className="RequirementDtl"}function makeObj(e,t){return{fn:e,pre:t.pre,post:t.post,cb:[]}}function ReplaceObject(e,t,r){e.isService||e.toReplace&&!1!==r.GetExistingObject(ConstructorName(e.obj),t)&&(e.obj=e.arrays.UiArray[i][j].Obj)}function CreateSeq(e){ReplaceObject(e.object,e.tmpId,e.that),e.object.obj.hasHtml(e)}function buttonName(e,t){for(var r={order:3e5,text:"Next",class:"form-btn",parent:"befstgo2"},o=0;o<e.length;o++){(isSet(BtnType[ConstructorName(e[o].Obj)])?BtnType[ConstructorName(e[o].Obj)].order:3e5)<r.order&&(r=BtnType[ConstructorName(e[o].Obj)])}var i=currentISO();r=JSON.parse(JSON.stringify(r)),0===ReqObj.Form[t].FormSequence.StepCounter&&!0!==ReqObj.Form[t].OnCloseStep&&("IN"!==i&&"09"===t.substring(0,2)&&(r.parent="befstgo1"),"09"!==t.substring(0,2)&&(r.text="Submit Requirement","01"===t.substring(0,2)?(r.parent="be-mdl",r.class="be_btmm"):(r.parent="betxtc",r.class="penqbt")),isSet(ReqObj.Form[t].BtnText)&&""!==ReqObj.Form[t].BtnText&&"09"!==t.substring(0,2)&&(r.text=ReqObj.Form[t].BtnText)),$("#t"+t+"_submit").removeClass().addClass(r.class).prop("value",r.text).parent().removeClass().addClass(r.parent)}function FindObject(e,t,r){for(var o=0;o<e.length;o++){if(ConstructorName(e[o].fn).toLowerCase()===t.toLowerCase())return r.toReplace&&(e[o]=r.ReplaceObj),!1;if(!1===FindObject(e[o].cb,t,r))return!1}}function FindCorrectSpot(e,t,r){for(var o=0;o<e.length;o++){if(ConstructorName(e[o].fn).toLowerCase()===r.toLowerCase())return e[o].cb.push(t),!0;if(!0===FindCorrectSpot(e[o].cb,t,r))return!0}}function findParent(e){var t="";for(var r in TreeConfig)if(r.toLowerCase()===e.toLowerCase()){t=TreeConfig[r];break}return t}function formatServices(e,t){if(isSet(ReqObj.Form[t].ServiceSequence)&&isSet(ReqObj.Form[t].HitArray))for(var r=0;r<e.length;r++){var o=findParent(ConstructorName(e[r].fn)),i=!1;if(o.length>0)for(var a=0;a<o.length;a++)FindCorrectSpot(ReqObj.Form[t].ServiceSequence,e[r],o[a])?i=!0:FindCorrectSpot(ReqObj.Form[t].HitArray,e[r],o[a])?i=!0:a!==o.length-1||i||ReqObj.Form[t].ServiceSequence.push(e[r]);else ReqObj.Form[t].ServiceSequence.push(e[r])}}function AttachObject(e){if(isSet(e))if(e.isService||e.array.UiArray.push({id:e.objHtmlId,Obj:e.obj}),!1===FindObject(e.array.ServiceArray,ConstructorName(e.obj),e));else{var t=findParent(ConstructorName(e.obj));e.obj=makeObj(e.obj,e.hooks);var r=!1;if(t.length>0)for(var o=0;o<t.length;o++)!0===FindCorrectSpot(e.array.ServiceArray,e.obj,t[o])?r=!0:o!==t.length-1||r||e.array.ServiceArray.push(e.obj);else e.array.ServiceArray.push(e.obj)}}function ClearUi(e,t){if(isSet(ReqObj.Form[t].UiArray)&&e>-1)for(var r=0;r<ReqObj.Form[t].UiArray[e].length;r++)$("#t"+ReqObj.Form[t].UiArray[e][r].id).addClass("bedsnone"),$("#t"+ReqObj.Form[t].UiArray[e][r].id).children().each(function(){$(this).addClass("bedsnone")})}function makeFinalSeq(e,t){isSet(e)&&isSet(e.that)&&isSet(e.that.FullServiceArray)&&isSet(ReqObj.Form[t].UiArray)&&(e.that.FullServiceArray.push(e.object.array.ServiceArray),ReqObj.Form[t].UiArray.push(e.object.array.UiArray),e.that.getStep(t))}function SetdeafaultFlags(e,t){ReqObj.Form[e+t].flags={istitleEditable:Templateconfig[e].istitleEditable,isTitleSuggSet:Templateconfig[e].isTitleSuggSet,isOtpShown:Templateconfig[e].isOtpShown,isNECShown:Templateconfig[e].isNECShown,isFlagSuggSet:Templateconfig[e].isFlagSuggSet,isDescDivShown:Templateconfig[e].isDescDivShown},ReqObj.Form[e+t].flags.IsFirstStep=!1}function OpenForm(e){var t=e.tempId+e.instId,r=!1,o=!1,i=!0,a=!1,s=!isSet(e.callLeftSide)||e.callLeftSide;isSet(e.flags)&&(r=e.flags.isFlagSuggSet,o=e.flags.isTitleSuggSet,i=!1,a=e.flags.WasProdNamePresent),isSet(ReqObj.Form[t])&&isSet(ReqObj.Form[t].flags)&&(r=ReqObj.Form[t].flags.isFlagSuggSet,o=ReqObj.Form[t].flags.isTitleSuggSet),"FormSequence"in e||"HitArray"in e||(ReqObj.Original[t]=JSON.parse(JSON.stringify(e)),e.reqSent=ReturnCorrectVal(e.reqSent,"")),isBLFormOpen=!0,ReqObj.Form[t]=e,ReqObj.updateImage=0,"bl"===ReqObj.Form[t].formType.toLowerCase()&&isSet(ReqObj.Form[t].displayImage)&&""===ReqObj.Form[t].displayImage&&isSet(ReqObj.Form[t].zoomImage)&&""===ReqObj.Form[t].zoomImage&&i&&(ReqObj.Form[t].displayImage=isSet(ReqObj.mcatImage)&&""!==ReqObj.mcatImage?ReqObj.mcatImage:""),isSet(e.flags)||"enq"!==e.formType.toLowerCase()||"no"===e.reqSent||new Generation(1).onSubmit(t),SetdeafaultFlags(e.tempId,e.instId),ReqObj.Form[t].flags.isFlagSuggSet=r,ReqObj.Form[t].flags.isTitleSuggSet=o,ReqObj.Form[t].flags.WasProdNamePresent=a,InitiateTemplate(e.tempId,e.instId,e),GetIsq(t),ReqObj.Form[t].GlobalIsqObject=new Isq(t),ReqObj.Form[t].generationId=!isSet(e.generationId)||""===e.generationId||"R"!==ReqObj.Form[t].insert&&"U"!==ReqObj.Form[t].insert?1:parseInt(e.generationId),ReqObj.Form[t].query_destination=-1,$("#search_string").blur(),SetEmptyValue(t),s&&leftSideTransition(0,t),$("#t"+t+"_bewrapper").css({display:"table"}),stopBgScroll(),$("#t"+t+"_hdg").text(ReturnCorrectVal(e.heading,StaticMessage())),ReqObj.Form[t].FormSequence=new FormSeq,ReqObj.Form[t].FormSequence.FirstStepSequence(t,ReqObj.Form[t].formType,"Popup"),FormCloseButtons(t)}function removeLoader(e){var t=$("#t"+e+"_belodr");t.hasClass("bedsnone")||t.addClass("bedsnone")}function InlineForm(e,t){var r=e.tempId+e.instId,o=!1,i=!1,a=!1;isSet(e.flags)&&(o=e.flags.isFlagSuggSet,i=e.flags.isTitleSuggSet,a=e.flags.WasProdNamePresent),"FormSequence"in e||"HitArray"in e||(ReqObj.Original[r]=JSON.parse(JSON.stringify(e)));var s=ReturnCorrectVal(e.heading,"Save Time! Get verified sellers");s!==e.heading&&(s+=isSet(e.prodName)&&""!==e.prodName?" for "+e.prodName:""),$("#t"+r+"_head").text(s),ReqObj.Form[r]=e,SetdeafaultFlags(e.tempId,e.instId),ReqObj.Form[r].flags.isFlagSuggSet=o,ReqObj.Form[r].flags.isTitleSuggSet=i,ReqObj.Form[r].flags.WasProdNamePresent=a,InitiateTemplate(e.tempId,e.instId,e),SetInlineDefault(r),GetIsq(r),ReqObj.Form[r].GlobalIsqObject=new Isq(r),ReqObj.Form[r].generationId=1,ReqObj.Form[r].query_destination=-1,ReqObj.Form[r].FormSequence=new FormSeq,ReqObj.Form[r].FormSequence.FirstStepSequence(r,e.formType,t)}function CloseForm(e){if("09"===e.substring(0,2)&&"table"===$("#t"+e+"_bewrapper").css("display")||"09"!==e.substring(0,2)&&"none"!==$("#t"+e+"_enrichform_maindiv").css("display")){if(isSet(ReqObj.Form[e].ServiceSequence))for(;ReqObj.Form[e].ServiceSequence.length>0;)ReqObj.Form[e].ServiceSequence[0].fn.onSubmit(e);ReqObj.TempNumber="",SetUserDetails(),"09"===e.substring(0,2)?($("#t"+e+"_bewrapper").css({display:"none"}),SetEmptyValue(e)):($("#t"+e+"_enrichform_maindiv").html("").css({display:"none"}),$("#t"+e+"_q_send_req_button").html(ReqObj.Form[e].btn),$("#t"+e+"_q_send_req_button").parent().removeClass("bedsnone"),ReqObj.Form[e].btn="");var t=$("ul.ui-autocomplete");t.css("display","none"),t.parent().css("display","none");var r=ReqObj.Form[e].HitArray,o=ReqObj.Form[e].enqSentCallBack;ReqObj.Form[e]=JSON.parse(JSON.stringify(ReqObj.Original[e])),ReqObj.Form[e].HitArray=r,ReqObj.Form[e].enqSentCallBack=o,ReqObj.loginMode=0,ReqObj.userType="",resumeBgScroll(),SetUserDetails(),UpdateSeq(),$("body").trigger(FormCloseEvent,[JSON.parse(JSON.stringify(ReqObj.Original[e]))])}}function SetEmptyValue(e){$("#t"+e+"_isqbox").html(""),$("#t"+e+"_reqbox").html(""),$("#t"+e+"_isqStatic").html(""),$("#t"+e+"_login").addClass("bedsnone"),$("#t"+e+"_otpbox").html(""),$("#t"+e+"_loginfld").html(""),$("#t"+e+"_prodtitle").html(""),$("#t"+e+"_contactinfo").html(""),$("#t"+e+"_thankDiv").html("").addClass("bedsnone"),$("#t"+e+"_mcont").css({display:"table"}),$("#t"+e+"_Prodname").html(""),$("#t"+e+"_Compname").html(""),$("#t"+e+"_ProdPrice").html(""),$("#t"+e+"_state").html(""),$("#t"+e+"_locality").html(""),$("#t"+e+"_city").html(""),$("#t"+e+"parent_iframe").html("<div id='t"+e+"_prodVideo' class='be-prdimg'></div>"),$("#t"+e+"_byrinfo").addClass("bedsnone").html(""),$("#t"+e+"_beprevious").addClass("bedsnone"),$("#t"+e+"_qnextbtn").addClass("bedsnone")}function SetInlineDefault(e){$("#t"+e+"_login").addClass("bedsnone"),$("#t"+e+"_isqboxIn").html(""),$("#t"+e+"_reqboxIn").html(""),$("#t"+e+"_loginIn").html(""),$("#t"+e+"_contactinfoIn").html(""),$("#t"+e+"_byrinfoIn").html("").addClass("bedsnone"),$("#t"+e+"_prodtitleIn").html("")}function CheckForUpdate(){for(var e in ReqObj.UserDetail)if(ReqObj.UserDetail[e]!==usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),e))return!0;return!1}function ShowOtp(){return!(!usercookie.getCookie("ImeshVisitor")||"V"===usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"uv")||"IN"!==usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"iso"))}function FormSeq(){this.arraySeq=[],this.ServiceSequence=[],this.FullServiceArray=[],this.OnCloseServiceArray=[],this.OnCloseStep=!1,this.OnCloseCounter=-1}ProductName.prototype.hasHtml=function(e){if(this.tmpId=e.tmpId,this.ProductNameHTML='<label class="be-lbl" id="t'+this.tmpId+'_name-l">Enter Product/Service Name</label><input templateId="'+this.tmpId+'" class="be-slbox inpt_errorbx bemgb15" type="text" name="q_title" id="t'+this.tmpId+'prodtitle" onblur="" maxlength="100" placeholder="Enter product/service name" autocomplete="off" spellcheck="true" role="textbox" aria-autocomplete="list" aria-haspopup="true"><div class="be-erbx beerrp4 bedsnone" id="t'+this.tmpId+'_error_title"> <div data-role="content">Enter product/service name</div><a class="be-erarw" data-role="arrow"></a> </div>',""!==this.ProductNameHTML){e.that.NumberofClassCalled-=1,AttachObject(e.object,e.tmpId);for(var t=0;t<e.AfterService.length;t++)e.that.MakeSeq(e.AfterService[t],e.tmpId);0===e.that.NumberofClassCalled&&makeFinalSeq(e,e.tmpId)}else e.hasFallback?CreateSeq(e.FallbackObj):e.that.NumberofClassCalled-=1},ProductName.prototype.displayHtml=function(){return this.ProductNameHTML},ProductName.prototype.handleUI=function(e){this.setTitleSuggester(e),this.showMcatFilled(e)},ProductName.prototype.defaultEvents=function(e){this.handleUI(e),this.handleEvents(e),$(document).on("click keypress keydown",".inpt_errorbx",function(){$("#t"+e+"_error_title").addClass("bedsnone"),$("#t"+e+"prodtitle").removeClass("highlight-err"),$("#t"+e+"_name-l").removeClass("redc")})},ProductName.prototype.handleEvents=function(e){var t=this,r=[];$(document).ready(function(){$("#t"+e+"prodtitle").off("blur").on("blur",{param1:e,param2:"blur",pnObject:t},t.checkMcatIDJquery),$("#t"+e+"prodtitle").off("keypress").on("keypress",{param1:e},Callblur),$("#t"+e+"prodtitle").off("mouseout").on("mouseout",function(){$("ul.ui-autocomplete").each(function(){"block"===$(this).css("display")&&($(this).off("mouseover").on("mouseover",function(){if(isSet($("#t"+e+"prodtitle")[0])){var t={};$.extend(!0,t,$._data($("#t"+e+"prodtitle")[0],"events")),r=isSet(t.blur)?t.blur:[],$("#t"+e+"prodtitle").off("blur")}}),$(this).off("mouseout").on("mouseout",function(){if($("#t"+e+"prodtitle").off("blur"),isSet(r))for(var t=0;t<r.length;t++)$("#t"+e+"prodtitle").on("blur",r[t].data,r[t].handler)}))}),$("#t"+e+"_cls").each(function(){"block"===$(this).css("display")&&($(this).off("mouseover").on("mouseover",function(){var t={};isSet($("#t"+e+"prodtitle")[0])&&($.extend(!0,t,$._data($("#t"+e+"prodtitle")[0],"events")),r=isSet(t.blur)?t.blur:[],$("#t"+e+"prodtitle").off("blur"))}),$(this).off("mouseout").on("mouseout",function(){if($("#t"+e+"prodtitle").off("blur"),isSet(r))for(var t=0;t<r.length;t++)$("#t"+e+"prodtitle").on("blur",r[t].data,r[t].handler)}))})})})},ProductName.prototype.setTitleSuggester=function(e){var t=this,r="sugg_title_"+e,o=5;"202"===e&&(o=3);var i=setInterval(function(){"undefined"!=typeof Suggester&&(window[r]=new Suggester({element:"t"+e+"prodtitle",getQuotation:!1,onSelect:t.selectTitle,fields:"",type:"product",module:"BL-FORM",rowsToDisplay:o,recentData:1,autocompleteClass:"be-sugg"}),JSON.stringify(r)&&(isSet(e)&&isSet(ReqObj.Form[e])&&isSet(ReqObj.Form[e].flags)&&(ReqObj.Form[e].flags.isTitleSuggSet=!0),clearInterval(i)))},1e3)},ProductName.prototype.selectTitle=function(e,t){var r=ReqObj.Form[$(this).attr("templateId")].productObject;$("#t"+r.tmpId+"prodtitle").length&&ReqObj.Form[r.tmpId].prodName!==$("#t"+r.tmpId+"prodtitle").val()&&(isSet(t)&&isSet(t.item)?(t.item.value&&($("#t"+r.tmpId+"prodtitle").val(t.item.value),ReqObj.Form[r.tmpId].prodName=t.item.value,ReqObj.Form[r.tmpId].prodDispName="",ReqObj.Form[r.tmpId].mcatName="",$("#t"+r.tmpId+"_belodr").removeClass("bedsnone")),isSet(t.item.mcat_id)&&isSet(t.item.mcat_id[0])&&isSet(t.item.cat_id)&&isSet(t.item.cat_id[0])?(ReqObj.Form[r.tmpId].mcatId=t.item.mcat_id[0],ReqObj.Form[r.tmpId].catId=t.item.cat_id[0],ReqObj.Form[r.tmpId].callLeftSide=!1,r.getMcatImage(r.tmpId,"select"),OpenForm(ReqObj.Form[r.tmpId])):r.getMcatDetail($("#t"+r.tmpId+"prodtitle").val(),r.tmpId,"select")):r.getMcatDetail($("#t"+r.tmpId+"prodtitle").val(),r.tmpId,"select"))},ProductName.prototype.SaveDetails=function(e){},ProductName.prototype.getMcatImage=function(e){var t="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads";$("#t"+e+"_imglodr").removeClass("bedsnone"),ReqObj.Form[e].mcatImage="",isSet(ReqObj.Form[e].mcatId)&&-1!==parseInt(ReqObj.Form[e].mcatId)?$.ajax({cache:!1,url:appsServerName+"index.php?r=postblenq/McatDtl",type:"GET",crossOrigin:!0,crossDomain:!0,timeout:3e3,data:{modid:ReqObj.Form[e].modId,mcatid:ReqObj.Form[e].mcatId},dataType:"json",success:function(r){if(isSet(r)&&isSet(r.Response)&&200===parseInt(r.Response.Code)&&isSet(r.Response.Data)){if(isSet(r.Response.Data.glcat_mcat_img1_250x250)){var o=r.Response.Data.glcat_mcat_img1_250x250;o=o.replace("http:",""),ReqObj.Form[e].displayImage=o,ReqObj.Form[e].zoomImage=o}}else blenqGATracking(t,"service:McatDtl:failure",r,1,e)},error:function(r){var o=isSet(r)?r:"response undefined";blenqGATracking(t,"service:McatDtl:failure",o,1,e)},complete:function(){$("#t"+e+"_imglodr").addClass("bedsnone"),leftSideTransition(0,e)}}):-1===parseInt(ReqObj.Form[e].mcatId)&&(ReqObj.Form[e].displayImage="",ReqObj.Form[e].zoomImage="",$("#t"+e+"_imglodr").addClass("bedsnone"),leftSideTransition(0,e))},ProductName.prototype.getMcatDetail=function(e,t,r,o){that=this,$("#t"+t+"_belodr").removeClass("bedsnone"),ReqObj.Form[t].mcatId=-2;var i=appsServerName+"models/mcatid-suggestion.php?search_param="+e;$.ajax({cache:!1,url:i,type:"GET",dataType:"json",success:function(e){isSet(e)&&e.mcatid&&e.catid?(ReqObj.Form[t].mcatId=e.mcatid,ReqObj.Form[t].catId=e.catid,ReqObj.Form[t].mcatType=e.type,ReqObj.Form[t].prodDispName="",ReqObj.Form[t].mcatName="",ReqObj.Form[t].ReqDtlBox=""):(ReqObj.Form[t].mcatId=-1,ReqObj.Form[t].catId=-1,ReqObj.Form[t].mcatType="")},error:function(e,r,o){ReqObj.Form[t].mcatId=-1,ReqObj.Form[t].catId=-1,ReqObj.Form[t].mcatType=""},complete:function(i){ReqObj.Form[t].prodName=e,ReqObj.Form[t].callLeftSide=!1,that.getMcatImage(t),isSet(o)&&PostAjax(o,t,[]),!isSet(r)||"blur"!==r&&"select"!==r||("09"===t.substring(0,2)?OpenForm(ReqObj.Form[t]):InlineForm(ReqObj.Form[t],"INLINE"))}})},ProductName.prototype.showMcatFilled=function(e){var t="";""!==ReqObj.Form[e].prodName&&(void 0!==ReqObj.Form[e].prodServ&&"C"!==ReqObj.Form[e].prodServ?t=ReqObj.Form[e].prodName:"C"===ReqObj.Form[e].prodServ&&"BL"===ReqObj.Form[e].formType&&(t=ReqObj.Form[e].prodName)),$("#t"+e+"prodtitle").val(t)},ProductName.prototype.onSubmit=function(e){var t=PreAjax("ProductName",e);this.checkMcatID({param1:e,param2:"submit"},t)},ProductName.prototype.validate=function(e){var t="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads",r=$("#t"+e+"prodtitle").val(),o=validation.isProductNameValid(r),i=ReqObj.Form[e].FormSequence.StepCounter+1;return!1!==o.type||(blenqGATracking(t,"Validation_Error_Prd_Title|"+i+"|ProductName",getEventLabel(),1,e),$("#t"+e+"_error_title").removeClass("bedsnone").focus(),$("#t"+e+"prodtitle").addClass("highlight-err"),$("#t"+e+"_name-l").addClass("redc"),!1)},ProductName.prototype.checkMcatIDJquery=function(e){e.data.pnObject.checkMcatID(e.data)},ProductName.prototype.checkMcatID=function(e,t){var r=e.param1,o=e.param2;$("#t"+r+"prodtitle").length&&""!==$("#t"+r+"prodtitle").val()&&"Enter product/service name"!==$("#t"+r+"prodtitle").val()&&ReqObj.Form[r].prodName!==$("#t"+r+"prodtitle").val()?this.getMcatDetail($("#t"+r+"prodtitle").val(),r,o,t):isSet(t)&&PostAjax(t,r,[])},RequirementDtl.prototype.displayHtml=function(e){return ReqObj.Form[e].flags.isDescDivShown=!0,this.Rdbox},RequirementDtl.prototype.defaultEvents=function(e){var t=$("#t"+e+"_reqBoxTemplates");isSet(ReqObj.Form[e].ReqDtlBox)?t.text(ReqObj.Form[e].ReqDtlBox):ReqObj.Form[e].ReqDtlBox="","-126"===ReqObj.Form[e].afflId&&t.attr("placeholder","Type your message here..."),t.on("focus",function(){t.removeClass("highlight-err"),$("#t"+e+"_textarea").removeClass("redc"),$("#t"+e+"_textarea_error").addClass("bedsnone")})},RequirementDtl.prototype.hasHtml=function(e){if(""!==this.Rdbox){e.that.NumberofClassCalled-=1,AttachObject(e.object,e.tmpId);for(var t=0;t<e.AfterService.length;t++)e.that.MakeSeq(e.AfterService[t],e.tmpId);0===e.that.NumberofClassCalled&&makeFinalSeq(e,e.tmpId)}else e.hasFallback&&CreateSeq(e.FallbackObj)},RequirementDtl.prototype.validate=function(e){if(isSet(ReqObj.Form[e])&&1===parseInt(ReqObj.Form[e].rdMend)){var t=$("#t"+e+"_reqBoxTemplates");return!1!==validation.isDescriptionFilled(t.val()).type||(blenqGATracking("Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads","Validation_Error_Desc|"+(ReqObj.Form[e].FormSequence.StepCounter+1)+"|RequirementDetail",getEventLabel(),0,e),t.addClass("highlight-err").parent().siblings("label").addClass("redc"),t.parent().siblings(".be-erbx").removeClass("bedsnone"),!1)}return!0},RequirementDtl.prototype.SaveDetails=function(e){ReqObj.Form[e].ReqDtlBox=$("#t"+e+"_reqBoxTemplates").val(),ReqObj.Form[e].ReqDtlBox&&(ReqObj.Form[e].ReqDtlBox=ReqObj.Form[e].ReqDtlBox.trim())},RequirementDtl.prototype.onSubmit=function(e){var t="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads",r=PreAjax("RequirementDtl",e),o=location.hostname,i=o.match(/^dev/)?"//dev-apps.imimg.com/":o.match(/^stg/)?"//stg-apps.imimg.com/":"//apps.imimg.com/";if(ReqObj.Form[e].ReqDtlBox){var a={enrichDesc:ReqObj.Form[e].ReqDtlBox,offer_id:ReqObj.Form[e].generationId,s_glusrid:usercookie.getParameterValue(usercookie.getCookie("ImeshVisitor"),"glid"),modid:ReqObj.Form[e].modId,blEnqFlag:ReqObj.Form[e].formType};"enq"===ReqObj.Form[e].formType.toLowerCase()&&(a.r_glusrid=ReqObj.Form[e].rcvGlid,a.q_dest=ReqObj.Form[e].query_destination),$.ajax({cache:!1,url:i+"index.php?r=Newreqform/saveEnrichment",type:"GET",dataType:"json",crossOrigin:!0,crossDomain:!0,data:a,success:function(o){isSet(o)?200===parseInt(o.CODE)?(blenqGATracking(t,"service:saveEnrichment:success",getEventLabel(),1,e),PostAjax(r,e,[])):(blenqGATracking(t,"service:saveEnrichment:failure",o,1,e),Ajaxfailure(r,e)):(blenqGATracking(t,"service:saveEnrichment:failure","response undefined",1,e),Ajaxfailure(r,e))},error:function(o){o=isSet(o)?JSON.stringify(o):"response undefined",blenqGATracking(t,"service:saveEnrichment:failure",o,1,e),Ajaxfailure(r,e)}})}else PostAjax(r,e,[])},FormSeq.prototype.GetExistingObject=function(e,t){for(var r=0;r<ReqObj.Form[t].UiArray.length;r++)for(var o=0;o<ReqObj.Form[t].UiArray[r].length;o++)if(ConstructorName(ReqObj.Form[t].UiArray[r][o].Obj).toLowerCase()===e)return[r,o];return!1},FormSeq.prototype.Checkforparent=function(e){for(var t=0;t<ReqObj.Form[tmpId].UiArray.length;t++)for(var r=0;r<ReqObj.Form[tmpId].UiArray[t].length;r++)if(ConstructorName(ReqObj.Form[tmpId].UiArray[t][r].Obj).toLowerCase()===e)return[t,r];return!1},FormSeq.prototype.FirstStepSequence=function(e,t,r){switch(SetUserDetails(),this.StepCounter=-1,ReqObj.Form[e].OnCloseStep=!1,ReqObj.Form[e].isTNCShownOnFirstStep=!1,ReqObj.Form[e].flags.IsFirstStep=!0,1===parseInt(ReqObj.Form[e].disableRd)&&(ReqObj.Form[e].flags.isDescDivShown=!0),showTermsConditions(e),r.trim().toLowerCase()){case"popup":"bl"===t.toLowerCase()?this.BLpopup(e):this.Enqpopup(e);break;case"inline":"bl"===t.toLowerCase()?this.BLinline(e):this.Enqinline(e)}},FormSeq.prototype.ShowStep=function(e){var t=this,r="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads",o="DisplayStep|"+(this.StepCounter+1)+"|";removeLoader(e),$("#t"+e+"_hdg").removeClass("bedsnone");for(var i=0;i<ReqObj.Form[e].UiArray[this.StepCounter].length;i++)$("#t"+ReqObj.Form[e].UiArray[t.StepCounter][i].id).append(ReqObj.Form[e].UiArray[t.StepCounter][i].Obj.displayHtml(e)).removeClass("bedsnone"),ReqObj.Form[e].UiArray[t.StepCounter][i].Obj.defaultEvents(e),i<ReqObj.Form[e].UiArray[this.StepCounter].length&&i>0&&(o+="-"),o+=ConstructorName(ReqObj.Form[e].UiArray[t.StepCounter][i].Obj);buttonName(ReqObj.Form[e].UiArray[this.StepCounter],e),0===this.StepCounter&&"09"!==e.substring(0,2)||("enq"===ReqObj.Form[e].formType.toLowerCase()&&0===this.StepCounter?imInvokeRequestForGaCode(e,"FormOpen:"+o):blenqGATracking(r,o,getEventLabel(),1,e)),$("#t"+e+"_submit").off("click").on("click",function(){t.FormSubmit(e)}),$("#t"+e+"_bl_form").off("keypress").on("keypress",function(r){13===(r.keyCode?r.keyCode:r.which)&&r.target.id!=="t"+e+"prodtitle"&&t.FormSubmit(e)})},FormSeq.prototype.FormSubmit=function(e){for(var t=!1,r=this,o="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads",i=0;i<ReqObj.Form[e].UiArray[r.StepCounter].length;i++)if(!ReqObj.Form[e].UiArray[r.StepCounter][i].Obj.validate(e)){t=!0;break}if(!t){var a="SubmitStep|"+(this.StepCounter+1)+"|";for(i=0;i<ReqObj.Form[e].UiArray[r.StepCounter].length;i++)ReqObj.Form[e].UiArray[r.StepCounter][i].Obj.SaveDetails(e),i<ReqObj.Form[e].UiArray[this.StepCounter].length&&i>0&&(a+="-"),a+=ConstructorName(ReqObj.Form[e].UiArray[r.StepCounter][i].Obj);blenqGATracking(o,a,getEventLabel(),0,e);var s=!1;for(ReqObj.Form[e].flags.ImEqgl=!!usercookie.getCookie("imEqGl"),"enq"===ReqObj.Form[e].formType.toLowerCase()&&"09"!==e.substring(0,2)&&ShowOtp()&&!ReqObj.Form[e].flags.isOtpShown&&ReqObj.Form[e].flags.ImEqgl&&0===r.StepCounter?ReqObj.Form[e].RemainingService=this.FullServiceArray[r.StepCounter]:formatServices(r.FullServiceArray[r.StepCounter],e);ReqObj.Form[e].ServiceSequence.length>0;)ReqObj.Form[e].ServiceSequence[0].fn.onSubmit(e);var n=r.StepCounter;for(i=0;i<r.FullServiceArray[n].length;i++){r.FullServiceArray[n][i].pre.length>0&&!s&&(s=!0,ClearUi(n,e));for(var l=0;l<r.FullServiceArray[n][i].pre.length;l++)PrePostService(r.FullServiceArray[n][i].pre[l],e)}}return!1},FormSeq.prototype.getStep=function(e){this.StepCounter+=1,this.StepCounter<ReqObj.Form[e].UiArray.length&&this.ShowStep(e)},FormSeq.prototype.MakeSeq=function(e){ReplaceObject(e.object,e.tmpId,this),e.object.isService?AttachObject(e.object,e.tmpId):e.object.obj.hasHtml(e)},FormSeq.prototype.InlineOpenForm=function(e){isBLFormOpen=!0,$("#t"+e+"_enrichform_maindiv").html(MakeOverlay(e)).css({display:"table"}),$("#t"+e+"_bewrapper").removeClass("bedsnone").css({display:"table"}),InlineDefault(e),ReqObj.Form[e].btn=$("#t"+e+"_q_send_req_button").html(),$("#t"+e+"_q_send_req_button").html(""),"bl"===ReqObj.Form[e].formType.toLowerCase()&&isSet(ReqObj.Form[e].displayImage)&&""===ReqObj.Form[e].displayImage&&isSet(ReqObj.Form[e].zoomImage)&&""===ReqObj.Form[e].zoomImage&&(ReqObj.Form[e].displayImage=isSet(ReqObj.mcatImage)&&""!==ReqObj.mcatImage?ReqObj.mcatImage:""),leftSideTransition(1,e),$("#t"+e+"_hdg").text(ReturnCorrectVal(ReqObj.Form[e].heading,StaticMessage())),FormCloseButtons(e)},"undefined"==typeof isIframeApiloaded&&(window.isIframeApiloaded=0);var new_player="";if(0===isIframeApiloaded){isIframeApiloaded=1;var tag=document.createElement("script");tag.src="https://www.youtube.com/player_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag)}function onPlayerStateChange(e){1!==e.data?blStop=0:blStop=1}function ReqImage(){this.displayImage="",this.zoomImage="",this.defaultimg="",this.vidUrl="",this.ctaType="",this.funcToCall="",this.html="",this.src="",this.type="",this.className="ReqImage"}function ThankYou(e){this.payxImgUrl="https://www.indiamart.com/payx/buyer.html?bannerid=EN_Form",this.payxAdvUrl="https://www.indiamart.com/payx/buyer.html?bannerid=EN_Form_ADV_",this.ThankYouHtml="",this.className="ThankYou"}function UpdateSeq(e){for(var t in ReqObj.Form)t!==e&&(-1===$.inArray(t.substring(0,2),BlPopup)?InlineForm(ReqObj.Form[t],"INLINE"):-1===$.inArray(t.substring(0,2),EnqPopup)&&InlineForm(ReqObj.Form[t],"INLINE"))}function callToIdentifiedQ(e,t){0!==t&&UpdateSeq(e),isSet(blpage)&&isSet(blpage.toIdentified)&&blpage.toIdentified(),isSet(window.parent.blpage)&&isSet(window.parent.blpage.toIdentified)&&window.parent.blpage.toIdentified(),isSet(page)&&isSet(page.Identified)&&page.Identified(),isSet(window.parent.page)&&isSet(window.parent.page.Identified)&&window.parent.page.Identified()}function UserLogin(){this.tmpId="",this.imeshCookie="",this.iplocCookie="",this.userCountry="",this.loginhtml="",this.tid="",this.username="",this.blurcalled=!1,this.cookies(),this.className="UserLogin"}function UserVerification(){this.tmpId="",this.otpCount=0,this.imeshCookie="",this.v4iilexCookie="",this.verifyhtml="",this.className="UserVerification"}ReqImage.prototype.displayHtml=function(e,t){return $("#t"+e+"parent_iframe").addClass("bedsnone"),this.displayImage=void 0!==ReqObj.Form[e].displayImage?ReqObj.Form[e].displayImage:"",this.zoomImage=void 0!==ReqObj.Form[e].zoomImage?ReqObj.Form[e].zoomImage:"",this.defaultimg="<div id='t"+e+"'defaultimage' class='be-nobgimg'><div class='blnewform_sprit be-noimg'></div></div>",this.vidUrl=void 0!==ReqObj.Form[e].vidUrl?ReqObj.Form[e].vidUrl:"",this.ctaType=void 0!==ReqObj.Form[e].ctaType?ReqObj.Form[e].ctaType:"",this.funcToCall=void 0!==ReqObj.Form[e].formType?ReqObj.Form[e].formType:"",this.RDatatype=void 0!==ReqObj.Form[e].modrefType?ReqObj.Form[e].modrefType:"",void 0!==t&&0===t&&(this.ctaType="image"),"video"===this.ctaType.toLowerCase()?($("#t"+e+"parent_iframe").html("<div id='t"+e+"_prodVideo' class='be-prdimg'></div>"),0===isIframeApiloaded&&this.loadScript(),this.showVideo(e)):this.showImage(e)},ReqImage.prototype.defaultEvents=function(){this.handleUI()},ReqImage.prototype.showImage=function(e){if("Enq"===this.funcToCall)if(""!==this.displayImage)this.html+=this.getImage("t"+e+"_dispimage","",this.displayImage),this.html+=""!==this.zoomImage?this.getImage("t"+e+"_zoomimage","",this.zoomImage):"";else{if(""===this.zoomImage)return"<div id='t"+e+"defaultimage' class='be-nobgimg'><div class='blnewform_sprit be-noimg'></div></div>";this.html+=this.getImage("t"+e+"_zoomimage","",this.zoomImage)}if("BL"===this.funcToCall){if(""===this.displayImage)return"<div id=t'"+e+"defaultimage' class='be-nobgimg'><div class='blnewform_sprit be-noimg'></div></div>";this.html+=this.getImage("t"+e+"_dispimage","",this.displayImage)}return this.html+="<span class='be-blrprdimg'  style='background-image: url("+this.src+");'></span>",this.html},ReqImage.prototype.getImage=function(e,t,r){return this.src=r,"<img id='"+e+"' class='"+t+"'  src='"+r+"'/>"},ReqImage.prototype.showVideo=function(e){if("undefined"===this.vidUrl||""===this.vidUrl)return this.showImage();"undefined"==typeof YT&&0===isIframeApiloaded?(this.loadScript(e),this.showVideo(e)):1===YT.loading&&0===YT.loaded||0===isIframeApiloaded?this.showVideo(e):1===YT.loading&&1===YT.loaded&&(isIframeApiloaded=2,this.getVideo(e))},ReqImage.prototype.loadScript=function(){var e=document.createElement("script");e.src="https://www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),isIframeApiloaded=1},ReqImage.prototype.getVideo=function(e){1===YT.loading&&1===YT.loaded&&(isIframeApiloaded=2,new_player=new YT.Player("t"+e+"_prodVideo",{width:"500",height:"500",playerVars:{autoplay:1},videoId:this.vidUrl}),$("#t"+e+"parent_iframe").removeClass("bedsnone"),$("#t"+e+"_prodimg").addClass("bedsnone"))},FormSeq.prototype.SubsequentStep=function(e){var t=this;ReqObj.Form[e].flags.IsFirstStep=!1;var r={UiArray:[],ServiceArray:[]},o={pre:[],post:[]};showTermsConditions(e),leftSideTransition(1,e),1===parseInt(ReqObj.Form[e].disableRd)&&(ReqObj.Form[e].flags.isDescDivShown=!ReqObj.Form[e].flags.isDescDivShown),$("#t"+e+"_byrinfo").html(get_buyer_info(e)).removeClass("bedsnone"),$("#t"+e+"_hdg").removeClass("bedsnone"),$("#t"+e+"_login").addClass("bedsnone");var i=!1;if("04"===e.substring(0,2)&&ReqObj.Form[e].flags.ImEqgl){if(ShowOtp()&&usercookie.getCookie("imEqGl")){i=!0,this.NumberofClassCalled=1;r={UiArray:[],ServiceArray:[]};o.pre=[],o.post=[this.NextStep],CreateSeq({object:{obj:new UserVerification(e),toReplace:!1,objHtmlId:e+"_otpbox",isService:!1,array:r,hooks:o},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null,nextStep:ReqObj.Form[e].NextStep})}else if((NEC()&&"IN"!==currentISO()&&!0===ReqObj.Form[e].OnCloseStep||NEC()&&"IN"===currentISO())&&(!ReqObj.Form[e].flags.isNECShown||"09"!==e.substring(0,2))){i=!0,this.NumberofClassCalled=1,o={pre:[],post:[]};var a={object:{obj:new PostBlEnqUpdate(e),toReplace:!1,isService:!0,array:r,hooks:o},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};o={pre:[this.NextStep],post:[]},CreateSeq({object:{obj:new ContactDetail(1,1,1),toReplace:!1,objHtmlId:e+"_contactinfo",isService:!1,array:r,hooks:o},tmpId:e,that:t,AfterService:[a],hasFallback:!1,FallbackObj:null,nextStep:ReqObj.Form[e].NextStep})}}else if(!(NEC()&&"IN"!==currentISO()&&!0===ReqObj.Form[e].OnCloseStep||NEC()&&"IN"===currentISO())||ReqObj.Form[e].flags.isNECShown&&"09"===e.substring(0,2)){if(ShowOtp()){i=!0,this.NumberofClassCalled=1;r={UiArray:[],ServiceArray:[]};o.pre=[],o.post=[this.NextStep],CreateSeq({object:{obj:new UserVerification(e),toReplace:!1,objHtmlId:e+"_otpbox",isService:!1,array:r,hooks:o},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null})}}else{i=!0,this.NumberofClassCalled=1,o={pre:[],post:[]};a={object:{obj:new PostBlEnqUpdate(e),toReplace:!1,isService:!0,array:r,hooks:o},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null};o={pre:[this.NextStep],post:[]},CreateSeq({object:{obj:new ContactDetail(1,1,1),toReplace:!1,objHtmlId:e+"_contactinfo",isService:!1,array:r,hooks:o},tmpId:e,that:t,AfterService:[a],hasFallback:!1,FallbackObj:null,nextStep:ReqObj.Form[e].NextStep})}if(!i)if(ReqObj.Form[e].disableIsq){if(this.NumberofClassCalled=1,!ReqObj.Form[e].flags.isEnrichShown||!ReqObj.Form[e].flags.isDescDivShown){var s={pre:[this.OnCloseSeq],post:[]};o={pre:[],post:[]};if(ReqObj.Form[e].flags.isEnrichShown||ReqObj.Form[e].flags.isDescDivShown?this.NumberofClassCalled=1:this.NumberofClassCalled=2,!ReqObj.Form[e].flags.isEnrichShown&&"bl"===ReqObj.Form[e].formType.toLowerCase()){var n={obj:new BlStaticQues(e),toReplace:!0,objHtmlId:e+"_isqStatic",isService:!1,array:r};1===this.NumberofClassCalled?n.hooks=s:2===this.NumberofClassCalled&&(n.hooks=o),CreateSeq({object:n,tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null})}}if(ReqObj.Form[e].flags.isDescDivShown)this.OnCloseSeq(e);else{r={UiArray:[],ServiceArray:[]};o.pre=[this.OnCloseSeq],o.post=[],CreateSeq(l={object:{obj:new RequirementDtl(e),toReplace:!0,objHtmlId:e+"_reqbox",isService:!1,array:r,hooks:o},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null,nextStep:ReqObj.Form[e].NextStep})}}else if(""===ReqObj.Form[e].IsqArray)if(this.NumberofClassCalled=1,ReqObj.Form[e].flags.isDescDivShown){this.NumberofClassCalled=1,r={UiArray:[],ServiceArray:[]};o={pre:[this.NextStep],post:[]};CreateSeq({object:{obj:ReqObj.Form[e].GlobalIsqObject,objHtmlId:e+"_isqbox",array:r,hooks:o,isService:!1},tmpId:e,that:t,AfterService:[],hasFallback:!0,Thankyou:!0,FallbackObj:null})}else{r={UiArray:[],ServiceArray:[]};var o={pre:[this.NextStep],post:[]},l={object:{obj:new RequirementDtl(e),toReplace:!0,objHtmlId:e+"_reqbox",isService:!1,array:r,hooks:o},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null,nextStep:ReqObj.Form[e].NextStep};CreateSeq({object:{obj:ReqObj.Form[e].GlobalIsqObject,objHtmlId:e+"_isqbox",array:r,hooks:o,isService:!1},tmpId:e,that:t,AfterService:[],hasFallback:!0,FallbackObj:l})}else if(ReqObj.Form[e].prevCount<ReqObj.Form[e].IsqLength){this.NumberofClassCalled=1;r={UiArray:[],ServiceArray:[]};o={pre:[this.NextStep],post:[]},CreateSeq({object:{obj:ReqObj.Form[e].GlobalIsqObject,objHtmlId:e+"_isqbox",array:r,hooks:o,isService:!1},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null,nextStep:ReqObj.Form[e].NextStep})}else if(null===ReqObj.Form[e].IsqArray||!(ReqObj.Form[e].prevCount<ReqObj.Form[e].IsqLength)){r={UiArray:[],ServiceArray:[]};if(ReqObj.Form[e].flags.isEnrichShown&&ReqObj.Form[e].flags.isDescDivShown)this.OnCloseSeq(e);else{s={pre:[this.OnCloseSeq],post:[]},o={pre:[],post:[]};if(ReqObj.Form[e].flags.isEnrichShown||ReqObj.Form[e].flags.isDescDivShown?this.NumberofClassCalled=1:this.NumberofClassCalled=2,!ReqObj.Form[e].flags.isEnrichShown&&"bl"===ReqObj.Form[e].formType.toLowerCase()){n={obj:new BlStaticQues(e),toReplace:!0,objHtmlId:e+"_isqStatic",isService:!1,array:r};1===this.NumberofClassCalled?n.hooks=s:2===this.NumberofClassCalled&&(n.hooks=o),CreateSeq({object:n,tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null})}if(!ReqObj.Form[e].flags.isDescDivShown)CreateSeq(l={object:{obj:new RequirementDtl(e),toReplace:!1,objHtmlId:e+"_reqbox",isService:!1,array:r,hooks:s},tmpId:e,that:t,AfterService:[],hasFallback:!1,FallbackObj:null})}}},ThankYou.prototype.displayHtml=function(e){var t="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads";if(isSet(ReqObj.Form[e].FormSequence))var r=ReqObj.Form[e].FormSequence.StepCounter+1+ReqObj.Form[e].FormSequence.OnCloseCounter+1;else r=2;return"IN"===currentISO()&&blenqGATracking(t,"Displayed_PayX|"+r+"|Thank You",getEventLabel(),0,e),this.ThankYouHtml},ThankYou.prototype.SaveDetails=function(e){},ThankYou.prototype.defaultEvents=function(e){var t="Enq"===ReqObj.Form[e].formType?"Send Enquiry":"Post Buy Leads";if(isSet(ReqObj.Form[e].FormSequence))var r=ReqObj.Form[e].FormSequence.StepCounter+1+ReqObj.Form[e].FormSequence.OnCloseCounter+1;else r=2;$("#t"+e+"_mcont").css({display:"none"}),$("#t"+e+"_cls").off("click").on("click",function(){FormCloseStep(e)}),$("#payxbanner").on("click",function(){blenqGATracking(t,"PayX_Banner|"+r+"|Thank You",getEventLabel(),0,e)}),$("#payxknowmore").on("click",function(){blenqGATracking(t,"PayX_KnowMore|"+r+"|Thank You",getEventLabel(),0,e)}),$("#manage_rqt").on("click",function(){blenqGATracking(t,"Manage Your Requirement|"+r+"|Thank You",getEventLabel(),0,e)})},ThankYou.prototype.hasHtml=function(e){if(this.showThankYou(e.tmpId),e.that.NumberofClassCalled-=1,""!==this.ThankYouHtml){AttachObject(e.object,e.tmpId);for(var t=0;t<e.AfterService.length;t++)e.that.MakeSeq(e.AfterService[t],e.tmpId);0===e.that.NumberofClassCalled&&makeFinalSeq(e,e.tmpId)}else e.hasFallback&&CreateSeq(e.FallbackObj)},ThankYou.prototype.setPayxUrl=function(e){var t=ReqObj.Form[e].R_glusr_id,r=ReqObj.Form[e].R_title,o=ReqObj.Form[e].company;if("Enq"===ReqObj.Form[e].formType){var i=isSet(t)||""===t?btoa(-1):btoa(t),a=isSet(o)||""===o?btoa(-1):btoa(o),s=isSet(r)||""===r?btoa(-1):btoa(r);this.payxImgUrl=this.payxImgUrl+"&S_name="+a+"&s_glid="+i+"&p_name="+s,this.payxAdvUrl=this.payxAdvUrl+"&S_name="+a+"&s_glid="+i+"&p_name="+s}},ThankYou.prototype.showThankYou=function(e){var t=usercookie.getCookie("ImeshVisitor"),r=usercookie.getParameterValue(t,"em"),o=usercookie.getParameterValue(t,"ev"),i=usercookie.getParameterValue(t,"utyp"),a=usercookie.getParameterValue(t,"iso"),s=webAddressLocation.match(/^dev/)?"https://dev-":webAddressLocation.match(/^stg/)?"https://stg-":"https://",n="",l="",c="",m="",d="",b="";b="P"===i||"p"===i?s+"seller.indiamart.com/blgen/managebl/":"P"===i&&"p"===i||!window.location.href.match(/seller.indiamart.com/)?s+"my.indiamart.com/buyertools/managebl/":s+"seller.indiamart.com/blgen/managebl/",t.indexOf("ev")>=0&&"V"!==o&&""!==r&&("enq"===ReqObj.Form[e].formType.toLowerCase()?(l="<div class='be-grbg'>Suppliers are more likely to contact verified buyers.<br><b>Check your email "+r+" to verify.</b></div>",this.payxImgUrl+="1",this.payxAdvUrl+="1"):(l="<div class='be-grbg'>Suppliers are more likely to contact verified buyers.<br><b>Check your email "+r+" to verify.</b></div>",this.payxImgUrl+="2",this.payxAdvUrl+="2")),this.setPayxUrl(e),"bl"===ReqObj.Form[e].formType.toLowerCase()?(d="<a href="+this.payxImgUrl+' target="_blank"><img src="https://apps.imimg.com/gifs/payx-bannerLeft3.jpg" class="Db" id="payxbanner"></a>',c='<div class="txt-cnt befs16 "><div class="bethhdg befwt bemt30 bemb5">Thank You!</div><div class="befwt">Your requirement has been received.</div> '+l+'<div class="befs14 bemt15">Want to add/edit your details to your requirement? Do it here:</div><div id="manage_rqt" class="bemt15 bedblk"><a href='+b+' target="_blank" class="form-btn bepdglr">Manage Your Requirement</a></div></div>',m="<a href="+this.payxAdvUrl+' target="_blank"><span class="kMr" id="payxknowmore">Know More></span></a>'):(d="<a href="+this.payxImgUrl+' class ="be_payXurl" target="_blank"><img src="https://apps.imimg.com/gifs/payx-bannerLeft3.jpg" class="Db" id="payxbanner"></a>',c='<div class="txt-cnt befs16 "><div class="bethhdg befwt bemt30 bemb5">Thank You!</div><div class="befwt">Your enquiry has been sent successfully. You will be contacted soon.</div>'+l+'<div class="clr-b"></div></div>',m="<a href="+this.payxAdvUrl+' class = "be_payXurlADV" target="_blank"><span class="kMr" id="payxknowmore">Know More></span></a>'),n="IN"===a?'<div class="be-w237 bevT bedtc">'+d+"</div>"+"<div class='bevT be-w710 bedtc'><div class='be-cross' id=t"+e+"_cls>X</div>"+c+"<div class='be-payxbg'><i class='pyxic'></i><br>We recommend using free <span class='f_bold'>IndiaMART Payment Protection</span> <br>while paying to seller online. "+m+"<br><div class='be-pyxHlp'>In case a seller refuses, please report it to us at 096-9696-9696</div></div></div>":"<div class='dtc bevT be-w98'><div class='be-cross' id=t"+e+"_cls>X</div>"+c,this.ThankYouHtml=n},"undefined"!=typeof blpage&&null!==blpage||(blpage={},blpage.toIdentifiedQ=new Array,blpage.toIdentified=function(){for(var e=0;e<blpage.toIdentifiedQ.length;e++)blpage.toIdentifiedQ[e].apply()}),UserLogin.prototype.SaveDetails=function(e){},UserLogin.prototype.displayHtml=function(e){return $("#t"+e+"_byrinfo").removeClass("bedsnone"),$("#t"+e+"_hdg").removeClass("bedsnone"),$("#t"+e+"_login").removeClass("bedsnone"),this.loginhtml},UserLogin.prototype.hasHtml=function(e){if(this.loginhtml=this.getLoginHTML(e.tmpId),e.that.NumberofClassCalled-=1,""!==this.loginhtml){AttachObject(e.object,e.tmpId);for(var t=0;t<e.AfterService.length;t++)e.that.MakeSeq(e.AfterService[t],e.tmpId);0===e.that.NumberofClassCalled&&makeFinalSeq(e,e.tmpId)}else e.hasFallback&&CreateSeq(e.FallbackObj);return""!==this.loginhtml},UserLogin.prototype.defaultEvents=function(e){this.handleUI({data:{todo:"isoFlag",obj:this,tmpId:e}}),this.handleEvents(this,e)},UserLogin.prototype.validate=function(e){return this.validateUserDetails(e)},UserLogin.prototype.onSubmit=function(e){var t=PreAjax("UserLogin",e);this.sendRequest({data:{logObject:t,tmpId:e,userlogin:this,blureve:!1,todo:"login"}})},UserLogin.prototype.cookies=function(){this.imeshCookie=usercookie.getCookie("ImeshVisitor"),this.iplocCookie=usercookie.getCookie("iploc"),this.userCountry=usercookie.getParameterValue(this.iplocCookie,"gcniso"),ReqObj.changeUserCountry=usercookie.getParameterValue(this.iplocCookie,"gcnnm")},UserLogin.prototype.getLoginHTML=function(e){var t="",r="",o='<input type="text" value="" readonly="" name="iso" id="t'+e+'_iso" class="be-flisq iso" tabindex="-1" disabled="disabled"',i="",a=currentISO();"IN"===a?(t="Mobile Number",r="Enter your mobile",o+=' style="display : block">',i="be-input benords beW3 beh32"):(t="Email ID",r="Enter your email",o+=' style="display : none">',i="be-input benords beW3 beh32 beemail");var s='<label id="t'+e+'_label-l" class="be-lbl beml-50">'+t+"</label>";s+=o,s+="<input type='text' name='login_field' placeholder='"+r+"' id='t"+e+"_login_field' class='"+i+"' value='"+(isSet(ReqObj.TempNumber)&&""!==ReqObj.TempNumber?ReqObj.TempNumber:"")+"'";var n="";return"IN"!==a&&"09"===e.substring(0,2)?n+=" style='width : 282px'>":n+=">",s+=n},UserLogin.prototype.validateUserDetails=function(e){if("IN"===currentISO()){this.username=$("#t"+e+"_login_field").val();var t=validation.isMobileValid(this.username);if(!1===t.type)return $("#t"+e+"_primary_info_errmsg_login").html(t.error),$("#t"+e+"_msg_primary_info_err_login").removeClass("bedsnone"),$("#t"+e+"_login_field").addClass("highlight-err"),$("#t"+e+"_label-l").addClass("redc"),!1}else{this.username=$("#t"+e+"_login_field").val();var r=validation.isEmailFilled(this.username);if(!1===r.type)return $("#t"+e+"_primary_info_errmsg_login").html(r.error),$("#t"+e+"_msg_primary_info_err_login").removeClass("bedsnone"),$("#t"+e+"_login_field").addClass("highlight-err"),$("#t"+e+"_label-l").addClass("redc"),!1}return!0},UserLogin.prototype.getData=function(e,t,r){var o=void 0!==r?r:"",i=currentISO(),a=(new LoginFlag).returnLoginFlag(o);"undefined"==typeof imesh_obj&&(imesh_obj=new userDataCookie);var s={s_country_iso:i,modid:ReqObj.Form[e].modId,curr_page_url:window.location.href,s_ip_address:usercookie.getParameterValue(t.iplocCookie,"gip"),s_ip_country:usercookie.getParameterValue(t.iplocCookie,"gcnnm"),s_ip_country_iso:usercookie.getParameterValue(t.iplocCookie,"gcniso"),loginflag:a};return void 0===t.username||""===t.username?s.username="IN"===i?usercookie.getParameterValue(t.imeshCookie,"mb1"):usercookie.getParameterValue(t.imeshCookie,"em"):s.username=t.username,ObjectTrim(s)},UserLogin.prototype.sendRequest=function(e){var t=e.data.logObject,r=e.data.tmpId,o=e.data.userlogin,i=e.data.blureve,a=e.data.todo,s=e.data.iso,n="Enq"===ReqObj.Form[r].formType?"Send Enquiry":"Post Buy Leads";if(ReqObj.TempNumber=$("#t"+r+"_login_field").val(),!0===((!0!==i||"09"!==r.substr(0,2)||"IN"!==s)&&(!isSet(i)||!0!==i||o.validateUserDetails(r)))){(isSet(t)&&""!==t||isSet(t)&&""===t&&"blurlogin"===a)&&($("#t"+r+"_belodr").removeClass("bedsnone"),$("#t"+r+"_q_first_nm").prop("disabled",!0));var l=o.getData(r,o,a);$.ajax({cache:!1,url:appsServerName+"index.php?r=Newreqform/EtoGlusrLogin",type:"GET",crossOrigin:!0,crossDomain:!0,data:l,dataType:"json",success:function(e){isSet(e)?(3===l.loginflag&&($("#t"+r+"_q_first_nm").removeClass("highlight-err").siblings(".redc").removeClass("redc"),$("#t"+r+"_error_first_name").addClass("bedsnone")),(""!==t||""===t&&"blurlogin"===a)&&(removeLoader(r),$("#t"+r+"_q_first_nm").prop("disabled",!1)),200===parseInt(e.code)?($("#t"+r+"_q_first_nm").length>0&&""!==e.DataCookie.fn&&($("#t"+r+"_q_first_nm").val(e.DataCookie.fn),$("#t"+r+"_q_first_nm").attr("disabled","disabled")),3!==l.loginflag&&isSet(e.DataCookie)&&""!==e.DataCookie&&imesh_obj.set(e.DataCookie),UpdateAfterLogin("fn"),UpdateAfterLogin("em"),UpdateAfterLogin("ctid"),UpdateAfterLogin("mb1"),UpdateAfterLogin("uv"),3===l.loginflag||1===l.loginflag?(ReqObj.userType="UnIdentified",ReqObj.loginMode="Mobile Number found in Primary Mobile"===e.msg?4:"New User created via User creation service"===e.msg?3:0):3!==l.loginflag&&1!==l.loginflag&&(ReqObj.userType="Identified",ReqObj.loginMode=2),ReqObj.TempNumber="",isSet(t)&&isSet(r)&&""!==t?(PostAjax(t,r,ReqObj.Form[r].UiArray[ReqObj.Form[r].FormSequence.StepCounter]),callToIdentifiedQ(r)):callToIdentifiedQ(r,0)):204===parseInt(e.code)?($("#t"+r+"_q_first_nm").val(""),$("#t"+r+"_q_first_nm").attr("disabled",!1),blenqGATracking(n,"service:EtoGlusrLogin:mobile number not registered",e,1,r),isSet(t)&&isSet(r)&&""!==t&&(removeLoader(r),RemoveObjFromHit(t,r))):(blenqGATracking(n,"service:EtoGlusrLogin:failure",e,1,r),isSet(t)&&isSet(r)&&""!==t&&(removeLoader(r),RemoveObjFromHit(t,r)))):(blenqGATracking(n,"service:EtoGlusrLogin:failure","response undefined",1,r),isSet(t)&&isSet(r)&&""!==t&&(removeLoader(r),RemoveObjFromHit(t,r)))},error:function(e){e=isSet(e)?JSON.stringify(e):"response undefined",blenqGATracking(n,"service:EtoGlusrLogin:failure",e,1,r),isSet(t)&&isSet(r)&&""!==t&&(removeLoader(r),RemoveObjFromHit(t,r)),""===t&&"blurlogin"===a&&(removeLoader(r),$("#t"+r+"_q_first_nm").prop("disabled",!1))},complete:function(e){!0===i&&(o.blurcalled=!0)}})}},UserLogin.prototype.handleEvents=function(e,t){$(document).ready(function(){$("#t"+t+"_login_field").on("focus",{todo:"removeError",obj:e,tmpId:t},e.handleUI);var r=currentISO();"IN"===r&&$("#t"+t+"_login_field").on("keypress",validation.isNumberKey),"09"===t.substring(0,2)&&($("#t"+t+"_login_field").focus(),$("#t"+t+"_login_field").css({border:"1px solid #43bfb3 ",boxShadow:"1px 0px 4px #43bfb3 "})),$("#t"+t+"_login_field").on("change",{logObject:"",tmpId:t,userlogin:e,blureve:!0,todo:"blurlogin",iso:r},e.sendRequest)})},UserLogin.prototype.handleUI=function(e){var t=e.data.todo,r=(e.data.obj,e.data.tmpId);if("isoFlag"===t){var o=currentISO();""!==ReqObj.isoFlag&&"IN"===o&&$("#t"+r+"_iso").attr("value",ReqObj.isoFlag)}"removeError"===t&&($("#t"+r+"_msg_primary_info_err_login").addClass("bedsnone"),$("#t"+r+"_login_field").removeClass("highlight-err"),$("#t"+r+"_label-l").removeClass("redc")),"tryagain"===t&&($("#t"+r+"_primary_info_errmsg_login").html("Something went Wrong. Please try Again"),$("#t"+r+"_msg_primary_info_err_login").removeClass("bedsnone"))},UserVerification.prototype.SaveDetails=function(e){},UserVerification.prototype.displayHtml=function(e){return $("#t"+e+"_byrinfo").addClass("bedsnone"),$("#t"+e+"_hdg").addClass("bedsnone"),ReqObj.Form[e].flags.isOtpShown=!0,this.verifyhtml},UserVerification.prototype.hasHtml=function(e){this.tmpId=e.tmpId,this.cookies(),this.sendOtp({data:{type:1,x:this,id:"",resend:0}});var t=currentISO();if(this.verifyhtml="IN"===t?this.getOTPHtml("t"+this.tmpId):"",e.that.NumberofClassCalled-=1,""!==this.verifyhtml){AttachObject(e.object,e.tmpId);for(var r=0;r<e.AfterService.length;r++)e.that.MakeSeq(e.AfterService[r],e.tmpId);0===e.that.NumberofClassCalled&&makeFinalSeq(e,e.tmpId)}else e.hasFallback&&CreateSeq(e.FallbackObj);return""!==this.verifyhtml},UserVerification.prototype.defaultEvents=function(){this.handleUI("focus","","",""),this.handleEvents(this)},UserVerification.prototype.validate=function(){$("#verifyerrotpdiv").addClass("bedsnone");var e=$("#bl_enqOtp1").val()+$("#bl_enqOtp2").val()+$("#bl_enqOtp3").val()+$("#bl_enqOtp4").val();return""!==e&&4===e.length||(this.handleUI("verificationFailed","beforeRequest",e),!1)},UserVerification.prototype.onSubmit=function(e){var t=$("#bl_enqOtp1").val()+$("#bl_enqOtp2").val()+$("#bl_enqOtp3").val()+$("#bl_enqOtp4").val();if(4===t.length){var r=new PreAjax("UserVerification",e);this.validateOtp({data:{type:2,x:this,obj:r,authKey:t}})}},UserVerification.prototype.cookies=function(){this.imeshCookie=usercookie.getCookie("ImeshVisitor"),this.v4iilexCookie=usercookie.getCookie("v4iilex")},UserVerification.prototype.getOTPHtml=function(e){return'<div class="bepr bemt10"><div class="otphdg" id="OtpMainHeading">Confirm your requirement</div><div class="befs16 blotp bemb20">Enter the 4 digit One Time Password (OTP) sent to your mobile number by SMS</div><div class="m15 blml20 bepr beopt"><i class="blnewform_sprit blicotp beflt"></i><div class="bedblk bemt15 beml10 bevT"><input type="text" id ="bl_enqOtp1" maxlength="1" class="bloptin"><input type="text" id="bl_enqOtp2" maxlength="1" class="bloptin"><input type="text" id="bl_enqOtp3" maxlength="1" class="bloptin"><input type="text" id="bl_enqOtp4" maxlength="1"  class="bloptin"><div id="verifyerrotpdiv" class="bltperor bedsnone"><span id="'+e+'verify_err"></span></div></div></div><div class="beclr"></div><div class="beotpSW betxtc">Did not get the OTP? <button id="resendOtp" class="blSmst">Send SMS again</button><span class="blgrcl1 disp-inl f_bold">OR</span><button id="bl_enqMisscall" class="blSmst">Get OTP on Call</button></div><div class="blLdot blMt25 relt beotpSW" style="display:none"><span class="blgrcl disp-inl f_bold">OR</span></div><div class="bloptS beotpSW" style="display:none"><span class="blotp">Give us a missed call on : <strong class="blMsN">098-9981-0984</strong></span></div></div>'},UserVerification.prototype.sendOtp=function(e){var t=e.data.type,r=e.data.x,o=e.data.id,i=e.data.resend,a="Enq"===ReqObj.Form[r.tmpId].formType?"Send Enquiry":"Post Buy Leads";if(ReqObj.Form[r.tmpId].OnCloseStep&&isSet(ReqObj.Form[r.tmpId].FormSequence))var s=ReqObj.Form[r.tmpId].FormSequence.StepCounter+1+ReqObj.Form[r.tmpId].FormSequence.OnCloseCounter+1;else s=ReqObj.Form[r.tmpId].FormSequence.StepCounter+1;if(1===i&&"resendOtp"===o?blenqGATracking(a,"resendOTP|"+s+"|UserVerification",getEventLabel(),0,r.tmpId):0===i&&"bl_enqMisscall"===o&&blenqGATracking(a,"OncallOTP|"+s+"|UserVerification",getEventLabel(),0,r.tmpId),r.handleUI("refresh"),3!==r.otpCount){r.otpCount>0&&r.otpCount<=3&&r.handleUI("otpCount123","","");var n=3===t?r.getData(3,i,r,""):1===t?r.getData(1,i,r,""):"";""!==n&&r.sendRequest(ObjectTrim(n),t,"",r)}else r.handleUI("otpCount3")},UserVerification.prototype.validateOtp=function(e){var t=e.data.type,r=e.data.x,o=e.data.obj,i=e.data.authKey;r.sendRequest(ObjectTrim(r.getData(2,"",r,i)),t,o,r)},UserVerification.prototype.getData=function(e,t,r,o){var i={s_mobile:usercookie.getParameterValue(this.imeshCookie,"mb1"),modid:ReqObj.Form[r.tmpId].modId,s_country_code:usercookie.getParameterValue(this.imeshCookie,"phcc"),s_country_iso:usercookie.getParameterValue(this.imeshCookie,"iso"),s_glusrid:usercookie.getParameterValue(this.imeshCookie,"glid"),flag:ReqObj.Form[r.tmpId].formType,OTPResend:t};return 1===e?(i.todoflag="OTPGen",i):2===e?(i.todoflag="OTPVer",i.s_authkey=o,i):3===e?(i.todoflag="OTPGen",i.misscall=1,i):void 0},UserVerification.prototype.sendRequest=function(e,t,r,o){var i="Enq"===ReqObj.Form[o.tmpId].formType?"Send Enquiry":"Post Buy Leads";o=this;$.ajax({cache:!1,url:appsServerName+"index.php?r=Newreqform/OtpAuthentication",type:"GET",crossOrigin:!0,crossDomain:!0,data:e,dataType:"json",success:function(e){if(isSet(e)){var a=o.imeshCookie;if(!isSet(e.Response)||"Success"!==e.Response.Status)return o.handleUI("verificationFailed","afterRequest",""),void RemoveObjFromHit(r,o.tmpId);if(1===t||3===t)o.otpCount++;else if(2===t){var s;-1===a.indexOf("uv")&&(a+="|"===a.charAt(a.length-1)?"uv=V":"|uv=V"),(s=stringToObject(a,"|")).uv="V",imesh_obj.set(s),usercookie.deleteCookie("imEqGl"),blenqGATracking(i,"confirmOTP",getEventLabel(),1,o.tmpId),$("#t"+o.tmpId+"_byrinfo").removeClass("bedsnone"),$("#t"+o.tmpId+"_hdg").removeClass("bedsnone");var n=new UserLogin;if(n.sendRequest({data:{logObject:"",tmpId:o.tmpId,userlogin:n,blureve:!1,todo:"verifyusr"}}),isSet(ReqObj.Form[o.tmpId].RemainingService)&&ReqObj.Form[o.tmpId].RemainingService.length>0&&"enq"===ReqObj.Form[o.tmpId].formType.toLowerCase()&&"09"!==o.tmpId.substring(0,2)&&!ShowOtp()&&ReqObj.Form[o.tmpId].flags.ImEqgl&&1===o.StepCounter)for(formatServices(ReqObj.Form[o.tmpId].RemainingService,o.tmpId);ReqObj.Form[o.tmpId].ServiceSequence.length>0;)ReqObj.Form[o.tmpId].ServiceSequence[0].fn.onSubmit(o.tmpId);PostAjax(r,o.tmpId,ReqObj.Form[o.tmpId].UiArray[ReqObj.Form[o.tmpId].FormSequence.StepCounter])}}else blenqGATracking(i,"service:OtpAuthentication:failure","response undefined",1,o.tmpId),RemoveObjFromHit(r,o.tmpId)},error:function(e){e=isSet(e)?JSON.stringify(e):"response undefined",blenqGATracking(i,"service:OtpAuthentication:failure",e,1,o.tmpId),RemoveObjFromHit(r,o.tmpId)}})},UserVerification.prototype.handleUI=function(e,t,r){var o=this;"focus"===e&&$("#bl_enqOtp1").focus(),"refresh"===e&&($("#verifyerrotpdiv").addClass("bedsnone"),$("#bl_enqOtp1").val(""),$("#bl_enqOtp2").val(""),$("#bl_enqOtp3").val(""),$("#bl_enqOtp4").val("")),"otpCount1"===e&&($("#resendOtp").show(),$("#t"+o.tmpId+"verify_err").html("")),"otpCount123"===e&&($("#resendOtp").attr("disabled","disabled").css({opacity:"0.4",cursor:"default"}),$("#bl_enqMisscall").attr("disabled","disabled").css({opacity:"0.4",cursor:"default"}),setTimeout(function(){$("#resendOtp").removeAttr("disabled").css({opacity:"1",cursor:"pointer"}),$("#bl_enqMisscall").removeAttr("disabled").css({opacity:"1",cursor:"pointer"})},2e4)),"otpCount3"===e&&($("#t"+o.tmpId+"verify_err").html("You have exceeded allowed OTP request attempts"),$("#verifyerrotpdiv").removeClass("bedsnone"),$("#resendOtp").attr("disabled","disabled").css({opacity:"0.4",cursor:"default"}),$("#bl_enqMisscall").attr("disabled","disabled").css({opacity:"0.4",cursor:"default"})),"verificationFailed"===e&&"beforeRequest"===t&&(0===r.length?$("#t"+o.tmpId+"verify_err").html("Please enter verification code"):$("#t"+o.tmpId+"verify_err").html("Please enter correct verification code"),$("#verifyerrotpdiv").removeClass("bedsnone")),"verificationFailed"===e&&"afterRequest"===t&&($("#t"+o.tmpId+"verify_err").html("Please enter correct verification code"),$("#verifyerrotpdiv").removeClass("bedsnone"),$("#bl_enqOtp4").focus()),"tryagain"===e&&"afterRequest"===t&&($("#t"+o.tmpId+"verify_err").html("Something went Wrong. Please try Again"),$("#verifyerrotpdiv").removeClass("bedsnone"))},UserVerification.prototype.handleEvents=function(e){var t=e;$(document).ready(function(){$("#bl_enqMisscall").on("click",{type:3,x:t,id:"bl_enqMisscall",resend:0},t.sendOtp),$("#resendOtp").on("click",{type:1,x:t,id:"resendOtp",resend:1},t.sendOtp),$("#bl_enqOtp1").on("keypress",validation.isNumberKey),$("#bl_enqOtp2").on("keypress",validation.isNumberKey),$("#bl_enqOtp3").on("keypress",validation.isNumberKey),$("#bl_enqOtp4").on("keypress",validation.isNumberKey),$("#bl_enqOtp1").on("keyup",{param1:"bl_enqOtp1",param2:"bl_enqOtp2"},movetoNext),$("#bl_enqOtp2").on("keyup",{param1:"bl_enqOtp2",param2:"bl_enqOtp3"},movetoNext),$("#bl_enqOtp3").on("keyup",{param1:"bl_enqOtp3",param2:"bl_enqOtp4"},movetoNext),$("#bl_enqOtp2").on("keydown",{param1:"bl_enqOtp2",param2:"bl_enqOtp1"},movetoPrevious),$("#bl_enqOtp3").on("keydown",{param1:"bl_enqOtp3",param2:"bl_enqOtp2"},movetoPrevious),$("#bl_enqOtp4").on("keydown",{param1:"bl_enqOtp4",param2:"bl_enqOtp3"},movetoPrevious)})};var isBlEnqLoaded=!0,FormCloseEvent=jQuery.Event("formClose"),ReqFormScriptLoaded=jQuery.Event("ReqFormLoaded");$("body").trigger(ReqFormScriptLoaded);